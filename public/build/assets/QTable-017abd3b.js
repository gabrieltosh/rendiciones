import{m as Q,p as J,v as r,x as G,aA as Pt,y as We,s as d,aB as Ct,ae as qt,aC as Tt,r as H,aD as kt,aE as xt,af as Rt,aF as Ot,aG as Bt,a2 as M,aH as be,aq as Me,an as $e,aI as Ke,ag as Ft,H as pt,aJ as Ge,j as Je,a8 as Et,a7 as Lt,aK as De,aw as Xe,n as Ye,aL as Mt,q as Ze,aM as $t,aN as Dt,aO as je,az as Re,aP as Ve,aQ as jt,a3 as et,aR as Vt,W as xe,S as te,e as fe,C as Ht}from"./app-7c3b4896.js";import{u as At,v as He,b as Qt,p as Ae,c as Nt,d as zt,r as Qe,s as Ut,e as It,f as Wt,g as Kt,h as tt,Q as Gt}from"./QSelect-9747a794.js";import{c as Ne}from"./MainLayout-c7889dd3.js";import{Q as Jt}from"./use-quasar-055dc0b9.js";import{Q as Xt}from"./QMarkupTable-454fe48f.js";const Yt=Q({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:n}){const v=J(),{proxy:{$q:o}}=v,f=s=>{n("click",s)};return()=>{if(e.props===void 0)return r("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:f},G(l.default));let s,i;const c=v.vnode.key;if(c){if(s=e.props.colsMap[c],s===void 0)return}else s=e.props.col;if(s.sortable===!0){const a=s.align==="right"?"unshift":"push";i=Pt(l.default,[]),i[a](r(We,{class:s.__iconClass,name:o.iconSet.table.arrowUp}))}else i=G(l.default);const b={class:s.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:s.headerStyle,onClick:a=>{s.sortable===!0&&e.props.sort(s),f(a)}};return r("th",b,i)}}}),Ol=Q({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:l}){const n=d(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>r("tr",{class:n.value},G(l.default))}}),Bl=Q({name:"QTooltip",inheritAttrs:!1,props:{...At,...Ct,...qt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:He},self:{type:String,default:"top middle",validator:He},offset:{type:Array,default:()=>[14,14],validator:Qt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Tt],setup(e,{slots:l,emit:n,attrs:v}){let o,f;const s=J(),{proxy:{$q:i}}=s,c=H(null),b=H(!1),a=d(()=>Ae(e.anchor,i.lang.rtl)),m=d(()=>Ae(e.self,i.lang.rtl)),_=d(()=>e.persistent!==!0),{registerTick:P,removeTick:C}=kt(),{registerTimeout:y}=xt(),{transitionProps:S,transitionStyle:B}=Rt(e),{localScrollTarget:O,changeScrollEvent:p,unconfigureScrollTarget:k}=Nt(e,ne),{anchorEl:q,canShow:N,anchorEvents:A}=zt({showing:b,configureAnchorEl:U}),{show:X,hide:z}=Ot({showing:b,canShow:N,handleShow:ae,handleHide:he,hideOnRouteChange:_,processOnMount:!0});Object.assign(A,{delayShow:Z,delayHide:Se});const{showPortal:E,hidePortal:$,renderPortal:me}=Bt(s,c,oe,"tooltip");if(i.platform.is.mobile===!0){const R={anchorEl:q,innerRef:c,onClickOutside(j){return z(j),j.target.classList.contains("q-dialog__backdrop")&&pt(j),!0}},ee=d(()=>e.modelValue===null&&e.persistent!==!0&&b.value===!0);M(ee,j=>{(j===!0?It:Qe)(R)}),be(()=>{Qe(R)})}function ae(R){E(),P(()=>{f=new MutationObserver(()=>D()),f.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),D(),ne()}),o===void 0&&(o=M(()=>i.screen.width+"|"+i.screen.height+"|"+e.self+"|"+e.anchor+"|"+i.lang.rtl,D)),y(()=>{E(!0),n("show",R)},e.transitionDuration)}function he(R){C(),$(),Y(),y(()=>{$(!0),n("hide",R)},e.transitionDuration)}function Y(){f!==void 0&&(f.disconnect(),f=void 0),o!==void 0&&(o(),o=void 0),k(),Me(A,"tooltipTemp")}function D(){Ut({targetEl:c.value,offset:e.offset,anchorEl:q.value,anchorOrigin:a.value,selfOrigin:m.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Z(R){if(i.platform.is.mobile===!0){Ne(),document.body.classList.add("non-selectable");const ee=q.value,j=["touchmove","touchcancel","touchend","click"].map(I=>[ee,I,"delayHide","passiveCapture"]);$e(A,"tooltipTemp",j)}y(()=>{X(R)},e.delay)}function Se(R){i.platform.is.mobile===!0&&(Me(A,"tooltipTemp"),Ne(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),y(()=>{z(R)},e.hideDelay)}function U(){if(e.noParentEvent===!0||q.value===null)return;const R=i.platform.is.mobile===!0?[[q.value,"touchstart","delayShow","passive"]]:[[q.value,"mouseenter","delayShow","passive"],[q.value,"mouseleave","delayHide","passive"]];$e(A,"anchor",R)}function ne(){if(q.value!==null||e.scrollTarget!==void 0){O.value=Ke(q.value,e.scrollTarget);const R=e.noParentEvent===!0?D:z;p(O.value,R)}}function L(){return b.value===!0?r("div",{...v,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",v.class],style:[v.style,B.value],role:"tooltip"},G(l.default)):null}function oe(){return r(Ft,S.value,L)}return be(Y),Object.assign(s.proxy,{updatePosition:D}),me}}),Fl=Q({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const n=J(),v=d(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return r("td",{class:v.value},G(l.default));const o=n.vnode.key,f=(e.props.colsMap!==void 0?e.props.colsMap[o]:null)||e.props.col;if(f===void 0)return;const{row:s}=e.props;return r("td",{class:v.value+f.__tdClass(s),style:f.__tdStyle(s)},G(l.default))}}});function lt(e,l){return r("div",e,[r("table",{class:"q-table"},l)])}const Zt={list:Jt,table:Xt},el=["list","table","__qtable"],tl=Q({name:"QVirtualScroll",props:{...Wt,type:{type:String,default:"list",validator:e=>el.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:l,attrs:n}){let v;const o=H(null),f=d(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:s,localResetVirtualScroll:i,padVirtualScroll:c,onVirtualScrollEvt:b}=Kt({virtualScrollLength:f,getVirtualScrollTarget:C,getVirtualScrollEl:P}),a=d(()=>{if(f.value===0)return[];const O=(p,k)=>({index:s.value.from+k,item:p});return e.itemsFn===void 0?e.items.slice(s.value.from,s.value.to).map(O):e.itemsFn(s.value.from,s.value.to-s.value.from).map(O)}),m=d(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),_=d(()=>e.scrollTarget!==void 0?{}:{tabindex:0});M(f,()=>{i()}),M(()=>e.scrollTarget,()=>{S(),y()});function P(){return o.value.$el||o.value}function C(){return v}function y(){v=Ke(P(),e.scrollTarget),v.addEventListener("scroll",b,De.passive)}function S(){v!==void 0&&(v.removeEventListener("scroll",b,De.passive),v=void 0)}function B(){let O=c(e.type==="list"?"div":"tbody",a.value.map(l.default));return l.before!==void 0&&(O=l.before().concat(O)),Xe(l.after,O)}return Ge(()=>{i()}),Je(()=>{y()}),Et(()=>{y()}),Lt(()=>{S()}),be(()=>{S()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?lt({ref:o,class:"q-table__middle "+m.value},B()):r(Zt[e.type],{...n,ref:o,class:[n.class,m.value],..._.value},B)}}}),ll={xs:2,sm:4,md:6,lg:10,xl:14};function ze(e,l,n){return{transform:l===!0?`translateX(${n.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const al=Q({name:"QLinearProgress",props:{...Ye,...Mt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:n}=J(),v=Ze(e,n.$q),o=$t(e,ll),f=d(()=>e.indeterminate===!0||e.query===!0),s=d(()=>e.reverse!==e.query),i=d(()=>({...o.value!==null?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),c=d(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),b=d(()=>ze(e.buffer!==void 0?e.buffer:1,s.value,n.$q)),a=d(()=>`with${e.instantFeedback===!0?"out":""}-transition`),m=d(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${a.value} q-linear-progress__track--${v.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),_=d(()=>ze(f.value===!0?1:e.value,s.value,n.$q)),P=d(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${a.value} q-linear-progress__model--${f.value===!0?"in":""}determinate`),C=d(()=>({width:`${e.value*100}%`})),y=d(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${a.value}`);return()=>{const S=[r("div",{class:m.value,style:b.value}),r("div",{class:P.value,style:_.value})];return e.stripe===!0&&f.value===!1&&S.push(r("div",{class:y.value,style:C.value})),r("div",{class:c.value,style:i.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Xe(l.default,S))}}});let le=0;const nl={fullscreen:Boolean,noRouteFullscreenExit:Boolean},ol=["update:fullscreen","fullscreen"];function rl(){const e=J(),{props:l,emit:n,proxy:v}=e;let o,f,s;const i=H(!1);Dt(e)===!0&&M(()=>v.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&a()}),M(()=>l.fullscreen,m=>{i.value!==m&&c()}),M(i,m=>{n("update:fullscreen",m),n("fullscreen",m)});function c(){i.value===!0?a():b()}function b(){i.value!==!0&&(i.value=!0,s=v.$el.parentNode,s.replaceChild(f,v.$el),document.body.appendChild(v.$el),le++,le===1&&document.body.classList.add("q-body--fullscreen-mixin"),o={handler:a},je.add(o))}function a(){i.value===!0&&(o!==void 0&&(je.remove(o),o=void 0),s.replaceChild(v.$el,f),i.value=!1,le=Math.max(0,le-1),le===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),v.$el.scrollIntoView!==void 0&&setTimeout(()=>{v.$el.scrollIntoView()})))}return Ge(()=>{f=document.createElement("span")}),Je(()=>{l.fullscreen===!0&&b()}),be(a),Object.assign(v,{toggleFullscreen:c,setFullscreen:b,exitFullscreen:a}),{inFullscreen:i,toggleFullscreen:c}}function il(e,l){return new Date(e)-new Date(l)}const sl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function ul(e,l,n,v){const o=d(()=>{const{sortBy:i}=l.value;return i&&n.value.find(c=>c.name===i)||null}),f=d(()=>e.sortMethod!==void 0?e.sortMethod:(i,c,b)=>{const a=n.value.find(P=>P.name===c);if(a===void 0||a.field===void 0)return i;const m=b===!0?-1:1,_=typeof a.field=="function"?P=>a.field(P):P=>P[a.field];return i.sort((P,C)=>{let y=_(P),S=_(C);return a.rawSort!==void 0?a.rawSort(y,S,P,C)*m:y==null?-1*m:S==null?1*m:a.sort!==void 0?a.sort(y,S,P,C)*m:Re(y)===!0&&Re(S)===!0?(y-S)*m:Ve(y)===!0&&Ve(S)===!0?il(y,S)*m:typeof y=="boolean"&&typeof S=="boolean"?(y-S)*m:([y,S]=[y,S].map(B=>(B+"").toLocaleString().toLowerCase()),y<S?-1*m:y===S?0:m)})});function s(i){let c=e.columnSortOrder;if(jt(i)===!0)i.sortOrder&&(c=i.sortOrder),i=i.name;else{const m=n.value.find(_=>_.name===i);m!==void 0&&m.sortOrder&&(c=m.sortOrder)}let{sortBy:b,descending:a}=l.value;b!==i?(b=i,a=c==="da"):e.binaryStateSort===!0?a=!a:a===!0?c==="ad"?b=null:a=!1:c==="ad"?a=!0:b=null,v({sortBy:b,descending:a,page:1})}return{columnToSort:o,computedSortMethod:f,sort:s}}const cl={filter:[String,Object],filterMethod:Function};function dl(e,l){const n=d(()=>e.filterMethod!==void 0?e.filterMethod:(v,o,f,s)=>{const i=o?o.toLowerCase():"";return v.filter(c=>f.some(b=>{const a=s(b,c)+"";return(a==="undefined"||a==="null"?"":a.toLowerCase()).indexOf(i)!==-1}))});return M(()=>e.filter,()=>{et(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:n}}function vl(e,l){for(const n in l)if(l[n]!==e[n])return!1;return!0}function Ue(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const fl={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function gl(e,l){const{props:n,emit:v}=e,o=H(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length!==0?n.rowsPerPageOptions[0]:5},n.pagination)),f=d(()=>{const a=n["onUpdate:pagination"]!==void 0?{...o.value,...n.pagination}:o.value;return Ue(a)}),s=d(()=>f.value.rowsNumber!==void 0);function i(a){c({pagination:a,filter:n.filter})}function c(a={}){et(()=>{v("request",{pagination:a.pagination||f.value,filter:a.filter||n.filter,getCellValue:l})})}function b(a,m){const _=Ue({...f.value,...a});if(vl(f.value,_)===!0){s.value===!0&&m===!0&&i(_);return}if(s.value===!0){i(_);return}n.pagination!==void 0&&n["onUpdate:pagination"]!==void 0?v("update:pagination",_):o.value=_}return{innerPagination:o,computedPagination:f,isServerSide:s,requestServerInteraction:c,setPagination:b}}function bl(e,l,n,v,o,f){const{props:s,emit:i,proxy:{$q:c}}=e,b=d(()=>v.value===!0?n.value.rowsNumber||0:f.value),a=d(()=>{const{page:k,rowsPerPage:q}=n.value;return(k-1)*q}),m=d(()=>{const{page:k,rowsPerPage:q}=n.value;return k*q}),_=d(()=>n.value.page===1),P=d(()=>n.value.rowsPerPage===0?1:Math.max(1,Math.ceil(b.value/n.value.rowsPerPage))),C=d(()=>m.value===0?!0:n.value.page>=P.value),y=d(()=>(s.rowsPerPageOptions.includes(l.value.rowsPerPage)?s.rowsPerPageOptions:[l.value.rowsPerPage].concat(s.rowsPerPageOptions)).map(q=>({label:q===0?c.lang.table.allRows:""+q,value:q})));M(P,(k,q)=>{if(k===q)return;const N=n.value.page;k&&!N?o({page:1}):k<N&&o({page:k})});function S(){o({page:1})}function B(){const{page:k}=n.value;k>1&&o({page:k-1})}function O(){const{page:k,rowsPerPage:q}=n.value;m.value>0&&k*q<b.value&&o({page:k+1})}function p(){o({page:P.value})}return s["onUpdate:pagination"]!==void 0&&i("update:pagination",{...n.value}),{firstRowIndex:a,lastRowIndex:m,isFirstPage:_,isLastPage:C,pagesNumber:P,computedRowsPerPageOptions:y,computedRowsNumber:b,firstPage:S,prevPage:B,nextPage:O,lastPage:p}}const ml={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},hl=["update:selected","selection"];function Sl(e,l,n,v){const o=d(()=>{const C={};return e.selected.map(v.value).forEach(y=>{C[y]=!0}),C}),f=d(()=>e.selection!=="none"),s=d(()=>e.selection==="single"),i=d(()=>e.selection==="multiple"),c=d(()=>n.value.length!==0&&n.value.every(C=>o.value[v.value(C)]===!0)),b=d(()=>c.value!==!0&&n.value.some(C=>o.value[v.value(C)]===!0)),a=d(()=>e.selected.length);function m(C){return o.value[C]===!0}function _(){l("update:selected",[])}function P(C,y,S,B){l("selection",{rows:y,added:S,keys:C,evt:B});const O=s.value===!0?S===!0?y:[]:S===!0?e.selected.concat(y):e.selected.filter(p=>C.includes(v.value(p))===!1);l("update:selected",O)}return{hasSelectionMode:f,singleSelection:s,multipleSelection:i,allRowsSelected:c,someRowsSelected:b,rowsSelectedNumber:a,isRowSelected:m,clearSelection:_,updateSelection:P}}function Ie(e){return Array.isArray(e)?e.slice():[]}const yl={expanded:Array},wl=["update:expanded"];function _l(e,l){const n=H(Ie(e.expanded));M(()=>e.expanded,s=>{n.value=Ie(s)});function v(s){return n.value.includes(s)}function o(s){e.expanded!==void 0?l("update:expanded",s):n.value=s}function f(s,i){const c=n.value.slice(),b=c.indexOf(s);i===!0?b===-1&&(c.push(s),o(c)):b!==-1&&(c.splice(b,1),o(c))}return{isRowExpanded:v,setExpanded:o,updateExpanded:f}}const Pl={visibleColumns:Array};function Cl(e,l,n){const v=d(()=>{if(e.columns!==void 0)return e.columns;const i=e.rows[0];return i!==void 0?Object.keys(i).map(c=>({name:c,label:c.toUpperCase(),field:c,align:Re(i[c])?"right":"left",sortable:!0})):[]}),o=d(()=>{const{sortBy:i,descending:c}=l.value;return(e.visibleColumns!==void 0?v.value.filter(a=>a.required===!0||e.visibleColumns.includes(a.name)===!0):v.value).map(a=>{const m=a.align||"right",_=`text-${m}`;return{...a,align:m,__iconClass:`q-table__sort-icon q-table__sort-icon--${m}`,__thClass:_+(a.headerClasses!==void 0?" "+a.headerClasses:"")+(a.sortable===!0?" sortable":"")+(a.name===i?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:a.style!==void 0?typeof a.style!="function"?()=>a.style:a.style:()=>null,__tdClass:a.classes!==void 0?typeof a.classes!="function"?()=>_+" "+a.classes:P=>_+" "+a.classes(P):()=>_}})}),f=d(()=>{const i={};return o.value.forEach(c=>{i[c.name]=c}),i}),s=d(()=>e.tableColspan!==void 0?e.tableColspan:o.value.length+(n.value===!0?1:0));return{colList:v,computedCols:o,computedColsMap:f,computedColspan:s}}const ge="q-table__bottom row items-center",at={};tt.forEach(e=>{at[e]={}});const pl=Q({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...at,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ye,...nl,...Pl,...cl,...fl,...yl,...ml,...sl},emits:["request","virtualScroll",...ol,...wl,...hl],setup(e,{slots:l,emit:n}){const v=J(),{proxy:{$q:o}}=v,f=Ze(e,o),{inFullscreen:s,toggleFullscreen:i}=rl(),c=d(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),b=H(null),a=H(null),m=d(()=>e.grid!==!0&&e.virtualScroll===!0),_=d(()=>" q-table__card"+(f.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),P=d(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":_.value)+(f.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(s.value===!0?" fullscreen scroll":"")),C=d(()=>P.value+(e.loading===!0?" q-table--loading":""));M(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+P.value,()=>{m.value===!0&&a.value!==null&&a.value.reset()});const{innerPagination:y,computedPagination:S,isServerSide:B,requestServerInteraction:O,setPagination:p}=gl(v,W),{computedFilterMethod:k}=dl(e,p),{isRowExpanded:q,setExpanded:N,updateExpanded:A}=_l(e,n),X=d(()=>{let t=e.rows;if(B.value===!0||t.length===0)return t;const{sortBy:u,descending:g}=S.value;return e.filter&&(t=k.value(t,e.filter,L.value,W)),ee.value!==null&&(t=j.value(e.rows===t?t.slice():t,u,g)),t}),z=d(()=>X.value.length),E=d(()=>{let t=X.value;if(B.value===!0)return t;const{rowsPerPage:u}=S.value;return u!==0&&(re.value===0&&e.rows!==t?t.length>ie.value&&(t=t.slice(0,ie.value)):t=t.slice(re.value,ie.value)),t}),{hasSelectionMode:$,singleSelection:me,multipleSelection:ae,allRowsSelected:he,someRowsSelected:Y,rowsSelectedNumber:D,isRowSelected:Z,clearSelection:Se,updateSelection:U}=Sl(e,n,E,c),{colList:ne,computedCols:L,computedColsMap:oe,computedColspan:R}=Cl(e,S,$),{columnToSort:ee,computedSortMethod:j,sort:I}=ul(e,S,ne,p),{firstRowIndex:re,lastRowIndex:ie,isFirstPage:ye,isLastPage:we,pagesNumber:se,computedRowsPerPageOptions:nt,computedRowsNumber:ue,firstPage:_e,prevPage:Pe,nextPage:Ce,lastPage:qe}=bl(v,y,S,B,p,z),ot=d(()=>E.value.length===0),rt=d(()=>{const t={};return tt.forEach(u=>{t[u]=e[u]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function it(){m.value===!0&&a.value.reset()}function st(){if(e.grid===!0)return wt();const t=e.hideHeader!==!0?Ee:null;if(m.value===!0){const g=l["top-row"],h=l["bottom-row"],w={default:x=>Be(x.item,l.body,x.index)};if(g!==void 0){const x=r("tbody",g({cols:L.value}));w.before=t===null?()=>x:()=>[t()].concat(x)}else t!==null&&(w.before=t);return h!==void 0&&(w.after=()=>r("tbody",h({cols:L.value}))),r(tl,{ref:a,class:e.tableClass,style:e.tableStyle,...rt.value,scrollTarget:e.virtualScrollTarget,items:E.value,type:"__qtable",tableColspan:R.value,onVirtualScroll:ct},w)}const u=[dt()];return t!==null&&u.unshift(t()),lt({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},u)}function ut(t,u){if(a.value!==null){a.value.scrollTo(t,u);return}t=parseInt(t,10);const g=b.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(g!==null){const h=b.value.querySelector(".q-table__middle.scroll"),w=g.offsetTop-e.virtualScrollStickySizeStart,x=w<h.scrollTop?"decrease":"increase";h.scrollTop=w,n("virtualScroll",{index:t,from:0,to:y.value.rowsPerPage-1,direction:x})}}function ct(t){n("virtualScroll",t)}function Oe(){return[r(al,{class:"q-table__linear-progress",color:e.color,dark:f.value,indeterminate:!0,trackColor:"transparent"})]}function Be(t,u,g){const h=c.value(t),w=Z(h);if(u!==void 0)return u(Fe({key:h,row:t,pageIndex:g,__trClass:w?"selected":""}));const x=l["body-cell"],T=L.value.map(F=>{const de=l[`body-cell-${F.name}`],ve=de!==void 0?de:x;return ve!==void 0?ve(vt({key:h,row:t,pageIndex:g,col:F})):r("td",{class:F.__tdClass(t),style:F.__tdStyle(t)},W(F,t))});if($.value===!0){const F=l["body-selection"],de=F!==void 0?F(ft({key:h,row:t,pageIndex:g})):[r(xe,{modelValue:w,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(ve,_t)=>{U([h],[t],ve,_t)}})];T.unshift(r("td",{class:"q-table--col-auto-width"},de))}const V={key:h,class:{selected:w}};return e.onRowClick!==void 0&&(V.class["cursor-pointer"]=!0,V.onClick=F=>{n("RowClick",F,t,g)}),e.onRowDblclick!==void 0&&(V.class["cursor-pointer"]=!0,V.onDblclick=F=>{n("RowDblclick",F,t,g)}),e.onRowContextmenu!==void 0&&(V.class["cursor-pointer"]=!0,V.onContextmenu=F=>{n("RowContextmenu",F,t,g)}),r("tr",V,T)}function dt(){const t=l.body,u=l["top-row"],g=l["bottom-row"];let h=E.value.map((w,x)=>Be(w,t,x));return u!==void 0&&(h=u({cols:L.value}).concat(h)),g!==void 0&&(h=h.concat(g({cols:L.value}))),r("tbody",h)}function Fe(t){return Te(t),t.cols=t.cols.map(u=>te({...u},"value",()=>W(u,t.row))),t}function vt(t){return Te(t),te(t,"value",()=>W(t.col,t.row)),t}function ft(t){return Te(t),t}function Te(t){Object.assign(t,{cols:L.value,colsMap:oe.value,sort:I,rowIndex:re.value+t.pageIndex,color:e.color,dark:f.value,dense:e.dense}),$.value===!0&&te(t,"selected",()=>Z(t.key),(u,g)=>{U([t.key],[t.row],u,g)}),te(t,"expand",()=>q(t.key),u=>{A(t.key,u)})}function W(t,u){const g=typeof t.field=="function"?t.field(u):u[t.field];return t.format!==void 0?t.format(g,u):g}const K=d(()=>({pagination:S.value,pagesNumber:se.value,isFirstPage:ye.value,isLastPage:we.value,firstPage:_e,prevPage:Pe,nextPage:Ce,lastPage:qe,inFullscreen:s.value,toggleFullscreen:i}));function gt(){const t=l.top,u=l["top-left"],g=l["top-right"],h=l["top-selection"],w=$.value===!0&&h!==void 0&&D.value>0,x="q-table__top relative-position row items-center";if(t!==void 0)return r("div",{class:x},[t(K.value)]);let T;if(w===!0?T=h(K.value).slice():(T=[],u!==void 0?T.push(r("div",{class:"q-table__control"},[u(K.value)])):e.title&&T.push(r("div",{class:"q-table__control"},[r("div",{class:["q-table__title",e.titleClass]},e.title)]))),g!==void 0&&(T.push(r("div",{class:"q-table__separator col"})),T.push(r("div",{class:"q-table__control"},[g(K.value)]))),T.length!==0)return r("div",{class:x},T)}const pe=d(()=>Y.value===!0?null:he.value);function Ee(){const t=bt();return e.loading===!0&&l.loading===void 0&&t.push(r("tr",{class:"q-table__progress"},[r("th",{class:"relative-position",colspan:R.value},Oe())])),r("thead",t)}function bt(){const t=l.header,u=l["header-cell"];if(t!==void 0)return t(ke({header:!0})).slice();const g=L.value.map(h=>{const w=l[`header-cell-${h.name}`],x=w!==void 0?w:u,T=ke({col:h});return x!==void 0?x(T):r(Yt,{key:h.name,props:T},()=>h.label)});if(me.value===!0&&e.grid!==!0)g.unshift(r("th",{class:"q-table--col-auto-width"}," "));else if(ae.value===!0){const h=l["header-selection"],w=h!==void 0?h(ke({})):[r(xe,{color:e.color,modelValue:pe.value,dark:f.value,dense:e.dense,"onUpdate:modelValue":Le})];g.unshift(r("th",{class:"q-table--col-auto-width"},w))}return[r("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},g)]}function ke(t){return Object.assign(t,{cols:L.value,sort:I,colsMap:oe.value,color:e.color,dark:f.value,dense:e.dense}),ae.value===!0&&te(t,"selected",()=>pe.value,Le),t}function Le(t){Y.value===!0&&(t=!1),U(E.value.map(c.value),E.value,t)}const ce=d(()=>{const t=[e.iconFirstPage||o.iconSet.table.firstPage,e.iconPrevPage||o.iconSet.table.prevPage,e.iconNextPage||o.iconSet.table.nextPage,e.iconLastPage||o.iconSet.table.lastPage];return o.lang.rtl===!0?t.reverse():t});function mt(){if(e.hideBottom===!0)return;if(ot.value===!0){if(e.hideNoData===!0)return;const g=e.loading===!0?e.loadingLabel||o.lang.table.loading:e.filter?e.noResultsLabel||o.lang.table.noResults:e.noDataLabel||o.lang.table.noData,h=l["no-data"],w=h!==void 0?[h({message:g,icon:o.iconSet.table.warning,filter:e.filter})]:[r(We,{class:"q-table__bottom-nodata-icon",name:o.iconSet.table.warning}),g];return r("div",{class:ge+" q-table__bottom--nodata"},w)}const t=l.bottom;if(t!==void 0)return r("div",{class:ge},[t(K.value)]);const u=e.hideSelectedBanner!==!0&&$.value===!0&&D.value>0?[r("div",{class:"q-table__control"},[r("div",[(e.selectedRowsLabel||o.lang.table.selectedRecords)(D.value)])])]:[];if(e.hidePagination!==!0)return r("div",{class:ge+" justify-end"},St(u));if(u.length!==0)return r("div",{class:ge},u)}function ht(t){p({page:1,rowsPerPage:t.value})}function St(t){let u;const{rowsPerPage:g}=S.value,h=e.paginationLabel||o.lang.table.pagination,w=l.pagination,x=e.rowsPerPageOptions.length>1;if(t.push(r("div",{class:"q-table__separator col"})),x===!0&&t.push(r("div",{class:"q-table__control"},[r("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||o.lang.table.recordsPerPage]),r(Gt,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:g,options:nt.value,displayValue:g===0?o.lang.table.allRows:g,dark:f.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":ht})])),w!==void 0)u=w(K.value);else if(u=[r("span",g!==0?{class:"q-table__bottom-item"}:{},[g?h(re.value+1,Math.min(ie.value,ue.value),ue.value):h(1,z.value,ue.value)])],g!==0&&se.value>1){const T={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(T.size="sm"),se.value>2&&u.push(r(fe,{key:"pgFirst",...T,icon:ce.value[0],disable:ye.value,onClick:_e})),u.push(r(fe,{key:"pgPrev",...T,icon:ce.value[1],disable:ye.value,onClick:Pe}),r(fe,{key:"pgNext",...T,icon:ce.value[2],disable:we.value,onClick:Ce})),se.value>2&&u.push(r(fe,{key:"pgLast",...T,icon:ce.value[3],disable:we.value,onClick:qe}))}return t.push(r("div",{class:"q-table__control"},u)),t}function yt(){const t=e.gridHeader===!0?[r("table",{class:"q-table"},[Ee()])]:e.loading===!0&&l.loading===void 0?Oe():void 0;return r("div",{class:"q-table__middle"},t)}function wt(){const t=l.item!==void 0?l.item:u=>{const g=u.cols.map(w=>r("div",{class:"q-table__grid-item-row"},[r("div",{class:"q-table__grid-item-title"},[w.label]),r("div",{class:"q-table__grid-item-value"},[w.value])]));if($.value===!0){const w=l["body-selection"],x=w!==void 0?w(u):[r(xe,{modelValue:u.selected,color:e.color,dark:f.value,dense:e.dense,"onUpdate:modelValue":(T,V)=>{U([u.key],[u.row],T,V)}})];g.unshift(r("div",{class:"q-table__grid-item-row"},x),r(Ht,{dark:f.value}))}const h={class:["q-table__grid-item-card"+_.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(h.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(h.onClick=w=>{n("RowClick",w,u.row,u.pageIndex)}),e.onRowDblclick!==void 0&&(h.onDblclick=w=>{n("RowDblclick",w,u.row,u.pageIndex)})),r("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(u.selected===!0?" q-table__grid-item--selected":"")},[r("div",h,g)])};return r("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},E.value.map((u,g)=>t(Fe({key:c.value(u),row:u,pageIndex:g}))))}return Object.assign(v.proxy,{requestServerInteraction:O,setPagination:p,firstPage:_e,prevPage:Pe,nextPage:Ce,lastPage:qe,isRowSelected:Z,clearSelection:Se,isRowExpanded:q,setExpanded:N,sort:I,resetVirtualScroll:it,scrollTo:ut,getCellValue:W}),Vt(v.proxy,{filteredSortedRows:()=>X.value,computedRows:()=>E.value,computedRowsNumber:()=>ue.value}),()=>{const t=[gt()],u={ref:b,class:C.value};return e.grid===!0?t.push(yt()):Object.assign(u,{class:[u.class,e.cardClass],style:e.cardStyle}),t.push(st(),mt()),e.loading===!0&&l.loading!==void 0&&t.push(l.loading()),r("div",u,t)}}});export{pl as Q,Ol as a,Yt as b,Fl as c,Bl as d};
