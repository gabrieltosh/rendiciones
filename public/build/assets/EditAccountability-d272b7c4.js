import{Q as L,r as y,j as O,o as s,c as t,a as i,u as g,w as V,F as d,Z as A,b as e,d as B,e as k,O as C,T as F,f as p,g as v,h,i as _,t as f}from"./app-d3ea3f5f.js";import{Q as w}from"./QSelect-157cd3bf.js";import{_ as E}from"./MainLayout-121499e4.js";import{u as N}from"./use-quasar-5d12cb01.js";import"./QChip-2e538c3c.js";const S={class:"row justify-center q-px-md q-py-lg"},$={class:"col-xs-12 col-sm-12 col-md-9"},j={class:"row"},H=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"},"Actualizar Rendición")],-1),D={class:"col-sm-6 text-right q-gutter-sm"},I={class:"row q-col-gutter-md q-mt-xs"},M={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},R=e("div",{class:"form-label",for:"device_name"}," Empleado ",-1),T={key:0,class:"container-error"},Z={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},G=e("div",{class:"form-label",for:"device_name"},[_(" Cuenta "),e("span",{class:"text-red"},"*")],-1),J={key:0,class:"container-error"},K={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},P=e("div",{class:"form-label",for:"device_name"},[_(" Monto Recepcionado "),e("span",{class:"text-red"},"*")],-1),W={key:0,class:"container-error"},X={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Y=e("div",{class:"form-label",for:"device_name"},[_(" Descripción "),e("span",{class:"text-red"},"*")],-1),ee={key:0,class:"container-error"},le={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},oe=e("div",{class:"form-label",for:"device_name"},[_(" Fecha Inicio "),e("span",{class:"text-red"},"*")],-1),se={key:0,class:"container-error"},te={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ae=e("div",{class:"form-label",for:"device_name"},[_(" Fecha Final "),e("span",{class:"text-red"},"*")],-1),ne={key:0,class:"container-error"},me={__name:"EditAccountability",props:{title:String,errors:Object},setup(n){const q=N(),c=L();let x=y(c.props.flash.message),b=y(c.props.flash.type);const u=y({accounts:null,employees:[]});y({card:!1});const r=y(c.props.accountability);function Q(){C.put(F("panel.accountability.authorization.update"),r.value,{onSuccess:()=>{x.value=c.props.flash.message,b.value=c.props.flash.type,q.notify({type:b.value,message:x.value})}})}function U(m,o){if(m===""){o(()=>{u.value.accounts=c.props.accounts});return}o(()=>{const l=m.toLowerCase();u.value.accounts=c.props.accounts.filter(a=>a.label.toLowerCase().indexOf(l)>-1)})}O(()=>{u.value.accounts=c.props.accounts,u.value.employees=c.props.employees});function z(m,o){if(m===""){o(()=>{u.value.employees=c.props.employees});return}o(()=>{const l=m.toLowerCase();u.value.employees=c.props.employees.filter(a=>a.card_name.toLowerCase().indexOf(l)>-1)})}return(m,o)=>(s(),t(d,null,[i(g(A),{title:n.title},null,8,["title"]),i(E,null,{default:V(()=>[e("div",S,[e("div",$,[i(B,{class:"q-pa-lg card-form"},{default:V(()=>[e("div",j,[H,e("div",D,[i(k,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:o[0]||(o[0]=l=>g(C).visit(g(F)("panel.accountability.authorization.index"))),flat:""}),i(k,{color:"primary",label:"Actualizar",size:"12px","no-caps":"",onClick:o[1]||(o[1]=l=>Q())})])]),e("div",I,[e("div",M,[R,i(w,{class:"input-theme",dense:"",outlined:"",options:u.value.employees,modelValue:r.value.employee,"onUpdate:modelValue":o[2]||(o[2]=l=>r.value.employee=l),"option-value":"card_code","option-label":"card_name","emit-value":"","map-options":"","use-input":"","input-debounce":"0",onFilter:z,clearable:""},null,8,["options","modelValue"]),n.errors.employee?(s(),t("div",T,[(s(!0),t(d,null,p(n.errors.employee,(l,a)=>(s(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",Z,[G,i(w,{class:"input-theme",dense:"",outlined:"",options:u.value.accounts,modelValue:r.value.account,"onUpdate:modelValue":o[3]||(o[3]=l=>r.value.account=l),"option-value":"account_code","option-label":"label","emit-value":"","map-options":"","use-input":"","input-debounce":"0",onFilter:U,clearable:""},null,8,["options","modelValue"]),n.errors.account?(s(),t("div",J,[(s(!0),t(d,null,p(n.errors.account,(l,a)=>(s(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",K,[P,i(h,{modelValue:r.value.total,"onUpdate:modelValue":o[4]||(o[4]=l=>r.value.total=l),dense:"",outlined:"",type:"number",class:"input-theme"},null,8,["modelValue"]),n.errors.total?(s(),t("div",W,[(s(!0),t(d,null,p(n.errors.total,(l,a)=>(s(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",X,[Y,i(h,{modelValue:r.value.description,"onUpdate:modelValue":o[5]||(o[5]=l=>r.value.description=l),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),n.errors.description?(s(),t("div",ee,[(s(!0),t(d,null,p(n.errors.description,(l,a)=>(s(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",le,[oe,i(h,{modelValue:r.value.start_date,"onUpdate:modelValue":o[6]||(o[6]=l=>r.value.start_date=l),dense:"",outlined:"",class:"input-theme",type:"date"},null,8,["modelValue"]),n.errors.start_date?(s(),t("div",se,[(s(!0),t(d,null,p(n.errors.start_date,(l,a)=>(s(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",te,[ae,i(h,{modelValue:r.value.end_date,"onUpdate:modelValue":o[7]||(o[7]=l=>r.value.end_date=l),dense:"",outlined:"",type:"date",class:"input-theme"},null,8,["modelValue"]),n.errors.end_date?(s(),t("div",ne,[(s(!0),t(d,null,p(n.errors.end_date,(l,a)=>(s(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)])])]),_:1})])])]),_:1})],64))}};export{me as default};
