import{_ as N,Q as I}from"./MainLayout-9fb08ded.js";import{Q as O,r as y,o as f,c as A,a as e,u as w,w as a,F as D,Z as j,b as i,d as T,e as c,h as U,y as M,z as P,k as Y,f as Z,i as l,t as s,E as G,C as $,l as v,g as C,D as J,O as x,T as k}from"./app-9c0252b0.js";import{Q as K,a as B,b as S,c as r,d as _}from"./QTable-afae3dda.js";import{u as W,Q as X,a as g,b as p,c as o}from"./use-quasar-b15c9383.js";import{Q as ee}from"./QBadge-1960ec00.js";import"./QSelect-80838df8.js";import"./QMarkupTable-72f7e49a.js";const ae={class:"q-px-sm q-py-md"},te=i("h5",{class:"title-form"},"Lista de Rendiciones",-1),le={class:"text-center q-gutter-xs"},se={class:"q-pa-xs col-xs-12 col-sm-6 col-md-3"},oe={target:".q-card",src:"https://cdn.lordicon.com/dnbjoceq.json",trigger:"hover",colors:"primary:white,secondary:#08a88a",style:{width:"50px",height:"50px"},ref:"animation"},ie={class:"row q-pa-sm"},de=i("div",{class:"col-xs-3 col-sm-3 col-md-2"},null,-1),ne={class:"col-xs-9 col-sm-9 col-md-10 text-right"},re={class:"form-label"},ce={class:"col-12 q-mt-sm"},he={__name:"IndexAccountability",props:{title:String,data:Object},setup(H){const Q=W(),d=O();let z=y(d.props.data),q=y(d.props.flash.message),R=y(d.props.flash.type),b=y(!0);const h=y({filter:"",loading:!1,columns:[{name:"id",align:"center",label:"ID",field:"id",sortable:!0},{name:"employee_name",align:"center",label:"Empleado",field:"employee_name",sortable:!0},{name:"account_name",align:"center",label:"Cuenta",field:"account_name",sortable:!0},{name:"total",align:"center",label:"Monto",field:"total",sortable:!0},{name:"start_date",align:"center",label:"Fecha Inicio",field:"start_date"},{name:"end_date",align:"center",label:"Fecha Fin",field:"end_date"},{name:"created_at",align:"center",label:"Fecha de Creación",field:"created_at",sortable:!0}]});function L(){x.visit(k("panel.accountability.manage.create",d.props.profile.id))}function E(u){x.visit(k("panel.accountability.manage.edit",[d.props.profile.id,u]))}function V(u){Q.dialog({title:"Confirmar",message:"¿Esta seguro de eliminar el Usuario?",cancel:!0,persistent:!0}).onOk(()=>{x.delete(k("panel.accountability.delete",u),{onSuccess:()=>{z.value=d.props.data,q.value=d.props.flash.message,R.value=d.props.flash.type,Q.notify({type:R.value,message:q.value})}})}).onCancel(()=>{}).onDismiss(()=>{})}function F(u){x.visit(k("panel.accountability.manage.detail.index",[d.props.profile.id,u]))}return(u,m)=>(f(),A(D,null,[e(w(j),{title:H.title},null,8,["title"]),e(N,null,{default:a(()=>[i("div",ae,[e(T,{class:"card-form q-mt-sm"},{default:a(()=>[e(K,{loading:h.value.loading,rows:w(z),columns:h.value.columns,"row-key":"id",class:"table-theme",filter:h.value.filter,separator:"horizontal",grid:w(b),flat:"",bordered:"","table-header-class":{"table-header-theme":!0}},{top:a(()=>[te,e(I),e(c,{color:"primary",label:"Crear Rendición",size:"11px","no-caps":"",onClick:m[0]||(m[0]=t=>L())}),e(I),e(U,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:h.value.filter,"onUpdate:modelValue":m[1]||(m[1]=t=>h.value.filter=t),class:"input-theme"},{append:a(()=>[e(M,{name:"search"})]),_:1},8,["modelValue"]),e(P,{modelValue:w(b),"onUpdate:modelValue":m[2]||(m[2]=t=>Y(b)?b.value=t:b=t),"checked-icon":"eva-grid-outline",color:"green","unchecked-icon":"eva-menu-outline","keep-color":"",size:"lg"},null,8,["modelValue"])]),header:a(t=>[e(B,{props:t},{default:a(()=>[e(S,{"auto-width":""}),(f(!0),A(D,null,Z(t.cols,n=>(f(),v(S,{key:n.name,props:t},{default:a(()=>[l(s(n.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(t=>[e(B,{props:t},{default:a(()=>[e(r,{style:{width:"110px !important"}},{default:a(()=>[i("div",le,[e(c,{size:"sm",color:"primary",dense:"",onClick:n=>F(t.row.id),icon:"eva-plus"},{default:a(()=>[e(_,{class:"bg-secondary",offset:[10,10]},{default:a(()=>[l(" Detalle de Rendición ")]),_:1})]),_:2},1032,["onClick"]),e(c,{size:"sm",color:"secondary",dense:"",onClick:n=>E(t.row.id),icon:"eva-edit-2-outline"},{default:a(()=>[e(_,{class:"bg-secondary",offset:[10,10]},{default:a(()=>[l(" Editar de Rendición ")]),_:1})]),_:2},1032,["onClick"]),e(c,{size:"sm",color:"red",dense:"",onClick:n=>V(t.row.id),icon:"eva-trash-2-outline"},{default:a(()=>[e(_,{class:"bg-red",offset:[10,10]},{default:a(()=>[l(" Eliminar Rendición ")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024),e(r,{key:"id",props:t},{default:a(()=>[l(s(t.row.id),1)]),_:2},1032,["props"]),e(r,{key:"employee_name",props:t},{default:a(()=>[l(s(t.row.employee_name),1)]),_:2},1032,["props"]),e(r,{key:"account_name",props:t},{default:a(()=>[l(s(t.row.account_name),1)]),_:2},1032,["props"]),e(r,{key:"total",props:t},{default:a(()=>[l(s(t.row.total),1)]),_:2},1032,["props"]),e(r,{key:"start_date",props:t},{default:a(()=>[l(s(t.row.start_date),1)]),_:2},1032,["props"]),e(r,{key:"end_date",props:t},{default:a(()=>[l(s(t.row.end_date),1)]),_:2},1032,["props"]),e(r,{key:"created_at",props:t},{default:a(()=>[l(s(t.row.created_at),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),item:a(t=>[i("div",se,[e(T,{class:"card-grid q-mt-md shadow-0",bordered:""},{default:a(()=>[e(G,{square:"",size:"50px",class:"absolute",style:{top:"12px",left:"12px",transform:"translateY(-50%)","border-radius":"10px","background-color":"#1b2033","box-shadow":`0rem 0.25rem 1.25rem 0rem
                                                rgba(0, 0, 0, 0.14),
                                            0rem 0.4375rem 0.625rem -0.3125rem rgba(64, 64, 64, 0.4)`}},{default:a(()=>[i("lord-icon",oe,null,512)]),_:1}),i("div",ie,[de,i("div",ne,[i("div",re,s(t.row.description),1)])]),i("div",ce,[e($,{spaced:""}),e(X,{dense:""},{default:a(()=>[e(g,{class:"text-right"},{default:a(()=>[e(p,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Empleado")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.employee_name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(g,{class:"text-right"},{default:a(()=>[e(p,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Cuenta")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.account_name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(g,{class:"text-right"},{default:a(()=>[e(p,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Monto")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.total),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(g,{class:"text-right"},{default:a(()=>[e(p,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Fecha Inicio")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.start_date),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(g,{class:"text-right"},{default:a(()=>[e(p,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Fecha Final")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.end_date),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),t.row.status?(f(),v(g,{key:0,class:"text-right"},{default:a(()=>[e(p,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Estado")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[e(ee,{color:t.row.status=="Pendiente"?"orange":t.row.status=="Rechazado"?"red":t.row.status=="Anulado"?"grey":"green",label:t.row.status},null,8,["color","label"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):C("",!0)]),_:2},1024),e($,{spaced:""})]),e(J,{align:"center",class:"q-pt-none"},{default:a(()=>[e(c,{size:"sm",color:"primary",onClick:n=>F(t.row.id),icon:"eva-plus"},{default:a(()=>[e(_,{class:"bg-secondary",offset:[10,10]},{default:a(()=>[l(" Detalle de Rendición ")]),_:1})]),_:2},1032,["onClick"]),t.row.status==null||t.row.status=="Rechazado"?(f(),v(c,{key:0,size:"sm",color:"secondary",onClick:n=>E(t.row.id),icon:"eva-edit-2-outline"},{default:a(()=>[e(_,{class:"bg-secondary",offset:[10,10]},{default:a(()=>[l(" Editar de Rendición ")]),_:1})]),_:2},1032,["onClick"])):C("",!0),t.row.status==null||t.row.status=="Rechazado"?(f(),v(c,{key:1,size:"sm",color:"red",onClick:n=>V(t.row.id),icon:"eva-trash-2-outline"},{default:a(()=>[e(_,{class:"bg-red",offset:[10,10]},{default:a(()=>[l(" Eliminar Rendición ")]),_:1})]),_:2},1032,["onClick"])):C("",!0)]),_:2},1024)]),_:2},1024)])]),_:1},8,["loading","rows","columns","filter","grid"])]),_:1})])]),_:1})],64))}};export{he as default};
