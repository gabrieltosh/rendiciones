import{Q as le,r as k,o as a,c as n,a as l,u as i,w as p,F as v,Z as se,b as e,k as H,d as F,e as f,O as $,T as A,h as U,f as h,g,C as D,t as y,y as oe,i as q,X as P,A as ae,l as ne,W as C}from"./app-6de39dd8.js";import{Q as z,a as ce}from"./QSelect-6565a1ac.js";import{Q as de,a as L}from"./QStepper-c46ba29f.js";import{Q as B}from"./QTree-99051e82.js";import{u as re,Q as ie,a as ue,b as me}from"./use-quasar-ca0b4894.js";import{Q as O}from"./QMarkupTable-6badafe7.js";import{C as pe}from"./ClosePopup-7a131f48.js";import{_ as _e}from"./MainLayout-53cbe64d.js";import"./QChip-16675ef6.js";const fe={class:"row justify-center q-px-md q-py-lg"},ve={class:"col-xs-12 col-sm-12 col-md-11"},he={class:"row"},ye=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"},"Editar Perfil")],-1),Ve={class:"col-sm-6 text-right q-gutter-sm"},be={class:"row q-col-gutter-md q-mt-xs"},ge={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ke=e("div",{class:"form-label",for:"device_name"},[q(" Nombre Perfil "),e("span",{class:"text-red"},"*")],-1),Ce={key:0,class:"container-error"},Ue={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},we=e("div",{class:"form-label",for:"device_name"},[q(" Moneda "),e("span",{class:"text-red"},"*")],-1),xe={key:0,class:"container-error"},qe={class:"row"},ze={class:"col-12"},$e={class:"row q-py-sm"},Ae=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"}," Asignar Cuentas Detalle ")],-1),De={class:"col-sm-6 text-right q-gutter-sm"},Ee={class:"col-sm-6"},Qe=e("h5",{class:"title-tree text-center"}," Lista de Cuentas Contables ",-1),Ne={class:"tree-label"},Se={class:"col-sm-5"},Te=e("h5",{class:"title-tree text-center"}," Cuentas Seleccionadas ",-1),Fe={class:"q-ma-none"},Le={class:"row"},Oe={class:"col-12"},He={class:"row q-py-sm"},Ie=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"}," Asignar Cuentas Cabecera ")],-1),Pe={class:"col-sm-6 text-right q-gutter-sm"},Be={class:"col-sm-6"},je=e("h5",{class:"title-tree text-center"}," Lista de Cuentas Contables ",-1),Ge={class:"tree-label"},Me={class:"col-sm-5"},Xe=e("h5",{class:"title-tree text-center"}," Cuentas Seleccionadas ",-1),Re={class:"q-ma-none"},We={class:"row"},Ze={class:"col-12"},Je={class:"row q-py-sm"},Ke=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"}," Asignar Empleados ")],-1),Ye={class:"col-sm-6 text-right q-gutter-sm"},et={class:"col-sm-6"},tt=e("h5",{class:"title-tree text-center"}," Lista de Empleados ",-1),lt={class:"tree-label"},st={class:"col-sm-5"},ot=e("h5",{class:"title-tree text-center"}," Empleados Seleccionados ",-1),at={class:"q-ma-none"},nt={class:"row"},ct=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"},"Documentos")],-1),dt={class:"col-sm-6 text-right q-gutter-sm"},rt={class:"row q-mt-xs q-pa-sm q-mt-sm"},it={colspan:"2",align:"left",style:{width:"50%"}},ut=e("span",{class:"text-red"},"*",-1),mt={key:0,class:"container-error"},pt={colspan:"2",align:"left",style:{width:"50%"}},_t=e("span",{class:"text-red"},"*",-1),ft={key:0,class:"container-error"},vt={colspan:"4",align:"left"},ht={class:"row"},yt={class:"col-md-3"},Vt={class:"row"},bt=e("div",{class:"col-6 self-center"},"Nº Autorización",-1),gt={class:"col-6 self-center"},kt={class:"col-md-3"},Ct={class:"row"},Ut=e("div",{class:"col-6 self-center"},"CUF",-1),wt={class:"col-6 self-center"},xt={class:"col-md-3"},qt={class:"row"},zt=e("div",{class:"col-6 self-center"},"Codigo Control",-1),$t={class:"col-6 self-center"},At={class:"col-md-3"},Dt={class:"row"},Et=e("div",{class:"col-6 self-center"},"Razón Social",-1),Qt={class:"col-6 self-center"},Nt={class:"col-md-3"},St={class:"row"},Tt=e("div",{class:"col-6 self-center"},"NIT",-1),Ft={class:"col-6 self-center"},Lt={class:"col-md-3"},Ot={class:"row"},Ht=e("div",{class:"col-6 self-center"},"Descuento",-1),It={class:"col-6 self-center"},Pt={class:"col-md-3"},Bt={class:"row"},jt=e("div",{class:"col-6 self-center"},"Gift Card",-1),Gt={class:"col-6 self-center"},Mt={class:"col-md-3"},Xt={class:"row"},Rt=e("div",{class:"col-6 self-center"},"Tasa Cero",-1),Wt={class:"col-6 self-center"},Zt={class:"col-md-3"},Jt={class:"row"},Kt=e("div",{class:"col-6 self-center"},"Exento Variable",-1),Yt={class:"col-6 self-center"},el={class:"col-md-3"},tl={class:"row"},ll=e("div",{class:"col-6 self-center"},"Tasa Variable",-1),sl={class:"col-6 self-center"},ol={class:"col-md-3"},al={class:"row"},nl=e("div",{class:"col-6 self-center"},"ICE Variable",-1),cl={class:"col-6 self-center"},dl={colspan:"1",align:"left"},rl={key:0},il=e("span",{class:"text-red"},"*",-1),ul={colspan:"1",align:"left"},ml={key:0},pl=e("span",{class:"text-red"},"*",-1),_l=e("tr",{style:{color:"white","background-color":"#344767"}},[e("th",{colspan:"6",class:"text-center",style:{width:"100%"}}," Prorrateo Asiento ")],-1),fl={style:{color:"#344767","background-color":"#f0f2f5"}},vl={class:"text-center",style:{width:"10%"}},hl=e("th",{class:"text-center",style:{width:"30%"}}," Tipo ",-1),yl=e("th",{class:"text-center",style:{width:"18%"}}," Calculo ",-1),Vl=e("th",{class:"text-center",style:{width:"30%"}}," Cuenta ",-1),bl=e("th",{class:"text-center",style:{width:"30%"}}," Porcentaje ",-1),gl=e("th",{class:"text-center",style:{width:"18%"}}," % Exento ",-1),kl={class:"text-center"},Cl={class:"text-center"},Ul={key:0,class:"container-error"},wl={class:"text-center"},xl={key:0,class:"container-error"},ql={class:"text-center"},zl={key:0,class:"container-error"},$l={class:"text-center"},Al={key:0,class:"container-error"},Dl={class:"text-center"},El=e("tr",{style:{color:"white","background-color":"#344767"}},[e("th",{colspan:"4",class:"text-center",style:{width:"100%"}}," Campos Adicionales ")],-1),Ql={style:{color:"#344767","background-color":"#f0f2f5"}},Nl={class:"text-center",style:{width:"10%"}},Sl=e("th",{class:"text-center",style:{width:"30%"}}," Tipo ",-1),Tl=e("th",{class:"text-center",style:{width:"30%"}}," Nombre ",-1),Fl=e("th",{class:"text-center",style:{width:"30%"}}," Cuenta ",-1),Ll={class:"text-center"},Ol={class:"text-center"},Hl={key:0,class:"container-error"},Il={class:"text-center"},Pl={key:0,class:"container-error"},Bl={class:"text-center"},jl={key:0,class:"container-error"},es={__name:"EditProfile",props:{title:String,errors:Object},setup(m){const E=re(),V=le();let w=k(1),j=k(V.props.flash.message),G=k(V.props.flash.type),M=k(V.props.accounts),R=k(V.props.currencies),W=k(V.props.employees),x=k({type_calculation:V.props.type_calculation,type:V.props.type,accounts_document:V.props.accounts_document,accounts_filter:V.props.accounts_document,document_types:V.props.document_types});k({card:!1});let Q=k(""),N=k(""),S=k("");const u=k(V.props.profile);function T(){V.props.errors={},E.dialog({title:"Confirmar",message:"¿Esta seguro de Actualizar el Perfil?",cancel:!0,persistent:!0}).onOk(()=>{$.put(A("panel.profile.update"),u.value,{onSuccess:()=>{j.value=V.props.flash.message,G.value=V.props.flash.type,E.notify({type:G.value,message:j.value})}})}).onCancel(()=>{}).onDismiss(()=>{})}function I(d,s){const t=s.toLowerCase();return d.label&&d.label.toLowerCase().indexOf(t)>-1}function X(d,s){if(d===""){s(()=>{x.value.accounts_filter=x.value.accounts_document});return}s(()=>{const t=d.toLowerCase();x.value.accounts_filter=x.value.accounts_document.filter(r=>r.AcctName.toLowerCase().indexOf(t)>-1)})}function Z(){u.value.documents.push({name:null,type_document_sap:null,type_calculation:null,ice:null,tasas:null,exento:null,ice_status:!1,tasas_status:!1,exento_status:!1,authorization_number_status:!1,cuf_status:!1,control_code_status:!1,business_name_status:!1,nit_status:!1,discount_status:!1,gift_card_status:!1,rate_zero_status:!1,detail:[{type:null,percentage:null,account:null,exento:null,type_calculation:null,for_delete:0}],fields:[{account:null,name:null,type_calculation:null,for_delete:0}],for_delete:0})}function J(d){u.value.documents[d].detail.push({type:null,percentage:null,account:null,type_calculation:null,for_delete:0})}function K(d){u.value.documents[d].fields.push({name:null,account:null,type_calculation:null,for_delete:0})}function Y(d,s){E.dialog({title:"Confirmar",message:"¿Esta seguro de eliminar la linea?",cancel:!0,persistent:!0}).onOk(()=>{u.value.documents[d].detail[s].id?u.value.documents[d].detail[s].for_delete=1:u.value.documents[d].detail.splice(s,1)}).onCancel(()=>{}).onDismiss(()=>{})}function ee(d,s){E.dialog({title:"Confirmar",message:"¿Esta seguro de eliminar la linea?",cancel:!0,persistent:!0}).onOk(()=>{u.value.documents[d].fields[s].id?u.value.documents[d].fields[s].for_delete=1:u.value.documents[d].fields.splice(s,1)}).onCancel(()=>{}).onDismiss(()=>{})}function te(d){E.dialog({title:"Confirmar",message:"¿Esta seguro de eliminar el documento?",cancel:!0,persistent:!0}).onOk(()=>{u.value.documents[d].id?u.value.documents[d].for_delete=1:u.value.documents.splice(d,1)}).onCancel(()=>{}).onDismiss(()=>{})}return(d,s)=>(a(),n(v,null,[l(i(se),{title:m.title},null,8,["title"]),l(_e,null,{default:p(()=>[e("div",fe,[e("div",ve,[l(de,{modelValue:i(w),"onUpdate:modelValue":s[27]||(s[27]=t=>H(w)?w.value=t:w=t),"header-nav":"",ref:"stepper",color:"primary",animated:"",flat:"","alternative-labels":"",class:"backgroup-theme"},{default:p(()=>[l(L,{class:"backgroup-theme",name:1,title:"Formulario de Perfil",icon:"settings",done:i(w)>1,error:Object.keys(m.errors).length>0},{default:p(()=>[l(F,{class:"q-pa-lg q-ma-sm card-form"},{default:p(()=>[e("div",he,[ye,e("div",Ve,[l(f,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[0]||(s[0]=t=>i($).visit(i(A)("panel.profile.index"))),flat:""}),l(f,{onClick:s[1]||(s[1]=t=>d.$refs.stepper.next()),color:"primary",outline:"","no-caps":"",size:"12px",label:"Continuar"}),l(f,{onClick:s[2]||(s[2]=t=>T()),color:"primary","no-caps":"",size:"12px",label:"Actualizar"})])]),e("div",be,[e("div",ge,[ke,l(U,{modelValue:u.value.name,"onUpdate:modelValue":s[3]||(s[3]=t=>u.value.name=t),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),m.errors.name?(a(),n("div",Ce,[(a(!0),n(v,null,h(m.errors.name,(t,r)=>(a(),n("ul",{key:r,class:"message-error"},[e("li",null,y(t),1)]))),128))])):g("",!0)]),e("div",Ue,[we,l(z,{class:"input-theme",modelValue:u.value.type_currency,"onUpdate:modelValue":s[4]||(s[4]=t=>u.value.type_currency=t),options:i(R),dense:"",outlined:"","option-value":"CurrCode","option-label":"CurrName","emit-value":"","map-options":""},null,8,["modelValue","options"]),m.errors.type_currency?(a(),n("div",xe,[(a(!0),n(v,null,h(m.errors.type_currency,(t,r)=>(a(),n("ul",{key:r,class:"message-error"},[e("li",null,y(t),1)]))),128))])):g("",!0)])])]),_:1})]),_:1},8,["done","error"]),l(L,{name:2,title:"Cuentas Cabecera",icon:"assignment",done:i(w)>2},{default:p(()=>[l(F,{class:"q-px-lg q-py-sm q-ma-sm card-form q-mt-md"},{default:p(()=>[e("div",qe,[e("div",ze,[e("div",$e,[Ae,e("div",De,[l(f,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[5]||(s[5]=t=>i($).visit(i(A)("panel.profile.index"))),flat:""}),l(f,{flat:"",color:"primary",onClick:s[6]||(s[6]=t=>d.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px"}),l(f,{onClick:s[7]||(s[7]=t=>d.$refs.stepper.next()),outline:"",color:"primary","no-caps":"",size:"12px",label:"Continuar"}),l(f,{onClick:s[8]||(s[8]=t=>T()),color:"primary","no-caps":"",size:"12px",label:"Actualizar"})])]),l(D)]),e("div",Ee,[Qe,l(U,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:i(N),"onUpdate:modelValue":s[9]||(s[9]=t=>H(N)?N.value=t:N=t),clearable:"",class:"input-theme"},null,8,["modelValue"]),l(B,{nodes:i(M),"node-key":"label","tick-strategy":"leaf",ticked:u.value.general,"onUpdate:ticked":s[10]||(s[10]=t=>u.value.general=t),filter:i(N),"filter-method":I},{"default-header":p(t=>[e("div",Ne,y(t.node.label),1)]),_:1},8,["nodes","ticked","filter"])]),l(D,{spaced:"",inset:"",vertical:""}),e("div",Se,[Te,e("ul",Fe,[(a(!0),n(v,null,h(u.value.general,t=>(a(),n("div",{key:`ticked-${t}`,class:"tree-label"},[e("li",null,y(t),1)]))),128))])])])]),_:1})]),_:1},8,["done"]),l(L,{name:3,title:"Cuentas Detalle",icon:"assignment",done:i(w)>3},{default:p(()=>[l(F,{class:"q-px-lg q-py-sm q-ma-sm card-form q-mt-md"},{default:p(()=>[e("div",Le,[e("div",Oe,[e("div",He,[Ie,e("div",Pe,[l(f,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[11]||(s[11]=t=>i($).visit(i(A)("panel.profile.index"))),flat:""}),l(f,{flat:"",color:"primary",onClick:s[12]||(s[12]=t=>d.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px",class:"q-ml-sm"}),l(f,{onClick:s[13]||(s[13]=t=>d.$refs.stepper.next()),outline:"",color:"primary","no-caps":"",size:"12px",label:"Continuar"}),l(f,{onClick:s[14]||(s[14]=t=>T()),color:"primary","no-caps":"",size:"12px",label:"Actualizar"})])]),l(D)]),e("div",Be,[je,l(U,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:i(Q),"onUpdate:modelValue":s[15]||(s[15]=t=>H(Q)?Q.value=t:Q=t),class:"input-theme",clearable:""},null,8,["modelValue"]),l(B,{nodes:i(M),"node-key":"label","tick-strategy":"leaf",ticked:u.value.detail,"onUpdate:ticked":s[16]||(s[16]=t=>u.value.detail=t),filter:i(Q),"filter-method":I},{"default-header":p(t=>[e("div",Ge,y(t.node.label),1)]),_:1},8,["nodes","ticked","filter"])]),l(D,{spaced:"",inset:"",vertical:""}),e("div",Me,[Xe,e("ul",Re,[(a(!0),n(v,null,h(u.value.detail,t=>(a(),n("div",{key:`ticked-${t}`,class:"tree-label"},[e("li",null,y(t),1)]))),128))])])])]),_:1})]),_:1},8,["done"]),l(L,{name:4,title:"Empleados",icon:"eva-people-outline",done:i(w)>4},{default:p(()=>[l(F,{class:"q-px-lg q-py-sm q-ma-sm card-form q-mt-md"},{default:p(()=>[e("div",We,[e("div",Ze,[e("div",Je,[Ke,e("div",Ye,[l(f,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[17]||(s[17]=t=>i($).visit(i(A)("panel.profile.index"))),flat:""}),l(f,{flat:"",color:"primary",onClick:s[18]||(s[18]=t=>d.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px"}),l(f,{onClick:s[19]||(s[19]=t=>d.$refs.stepper.next()),outline:"",color:"primary","no-caps":"",size:"12px",label:"Continuar"}),l(f,{onClick:s[20]||(s[20]=t=>T()),color:"primary","no-caps":"",size:"12px",label:"Actualizar"})])]),l(D)]),e("div",et,[tt,l(U,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:i(S),"onUpdate:modelValue":s[21]||(s[21]=t=>H(S)?S.value=t:S=t),class:"input-theme"},null,8,["modelValue"]),l(B,{nodes:i(W),"node-key":"label","tick-strategy":"leaf",ticked:u.value.employees,"onUpdate:ticked":s[22]||(s[22]=t=>u.value.employees=t),filter:i(S),"filter-method":I},{"default-header":p(t=>[e("div",lt,y(t.node.label),1)]),_:1},8,["nodes","ticked","filter"])]),l(D,{spaced:"",inset:"",vertical:""}),e("div",st,[ot,e("ul",at,[(a(!0),n(v,null,h(u.value.employees,t=>(a(),n("div",{key:`ticked-${t}`,class:"tree-label"},[e("li",null,y(t),1)]))),128))])])])]),_:1})]),_:1},8,["done"]),l(L,{name:5,title:"Documentos",icon:"eva-file-text-outline"},{default:p(()=>[l(F,{class:"q-pa-lg q-ma-sm card-form"},{default:p(()=>[e("div",nt,[ct,e("div",dt,[l(f,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[23]||(s[23]=t=>i($).visit(i(A)("panel.profile.index"))),flat:""}),l(f,{flat:"",color:"primary",onClick:s[24]||(s[24]=t=>d.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px"}),l(f,{onClick:s[25]||(s[25]=t=>T()),color:"primary","no-caps":"",size:"12px",label:"Actualizar"})])]),e("div",rt,[(a(!0),n(v,null,h(u.value.documents,(t,r)=>(a(),n("div",{class:"col-12 q-mb-md",key:r},[l(O,{separator:"cell",flat:"",bordered:"",dense:"",class:P({delete:t.for_delete==1})},{default:p(()=>[l(ce,{"touch-position":"","context-menu":""},{default:p(()=>[l(ie,{dense:"",style:{"min-width":"100px"}},{default:p(()=>[ae((a(),ne(ue,{clickable:"",onClick:o=>te(r)},{default:p(()=>[l(me,null,{default:p(()=>[q("Eliminar Documento")]),_:1})]),_:2},1032,["onClick"])),[[pe]])]),_:2},1024)]),_:2},1024),e("thead",null,[e("tr",null,[e("th",it,[q(" Nombre Documento "),ut,l(U,{modelValue:t.name,"onUpdate:modelValue":o=>t.name=o,dense:"",class:"input-theme"},null,8,["modelValue","onUpdate:modelValue"]),m.errors["documents."+r+".name"]?(a(),n("div",mt,[(a(!0),n(v,null,h(m.errors["documents."+r+".name"],(o,_)=>(a(),n("ul",{key:_,class:"message-error"},[e("li",null,y(o),1)]))),128))])):g("",!0)]),e("th",pt,[q(" Tipo Documento "),_t,l(z,{class:"input-theme",dense:"",options:i(x).document_types,modelValue:t.type_document_sap,"onUpdate:modelValue":o=>t.type_document_sap=o,"option-value":"FldValue","option-label":"Descr","emit-value":"","map-options":"",clearable:""},null,8,["options","modelValue","onUpdate:modelValue"]),m.errors["documents."+r+".type_document_sap"]?(a(),n("div",ft,[(a(!0),n(v,null,h(m.errors["documents."+r+".type_document_sap"],(o,_)=>(a(),n("ul",{key:_,class:"message-error"},[e("li",null,y(o),1)]))),128))])):g("",!0)])])])]),_:2},1032,["class"]),l(O,{separator:"cell",flat:"",bordered:"",dense:""},{default:p(()=>[e("thead",null,[e("tr",null,[e("th",vt,[e("div",ht,[e("div",yt,[e("div",Vt,[bt,e("div",gt,[l(C,{modelValue:t.authorization_number_status,"onUpdate:modelValue":o=>t.authorization_number_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",kt,[e("div",Ct,[Ut,e("div",wt,[l(C,{modelValue:t.cuf_status,"onUpdate:modelValue":o=>t.cuf_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",xt,[e("div",qt,[zt,e("div",$t,[l(C,{modelValue:t.control_code_status,"onUpdate:modelValue":o=>t.control_code_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",At,[e("div",Dt,[Et,e("div",Qt,[l(C,{modelValue:t.business_name_status,"onUpdate:modelValue":o=>t.business_name_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",Nt,[e("div",St,[Tt,e("div",Ft,[l(C,{modelValue:t.nit_status,"onUpdate:modelValue":o=>t.nit_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",Lt,[e("div",Ot,[Ht,e("div",It,[l(C,{modelValue:t.discount_status,"onUpdate:modelValue":o=>t.discount_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",Pt,[e("div",Bt,[jt,e("div",Gt,[l(C,{modelValue:t.gift_card_status,"onUpdate:modelValue":o=>t.gift_card_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",Mt,[e("div",Xt,[Rt,e("div",Wt,[l(C,{modelValue:t.rate_zero_status,"onUpdate:modelValue":o=>t.rate_zero_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",Zt,[e("div",Jt,[Kt,e("div",Yt,[l(C,{modelValue:t.exento_status,"onUpdate:modelValue":o=>t.exento_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",el,[e("div",tl,[ll,e("div",sl,[l(C,{modelValue:t.tasas_status,"onUpdate:modelValue":o=>t.tasas_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",ol,[e("div",al,[nl,e("div",cl,[l(C,{modelValue:t.ice_status,"onUpdate:modelValue":o=>t.ice_status=o,color:"positive"},null,8,["modelValue","onUpdate:modelValue"])])])])])])])])]),_:2},1024),l(O,{separator:"cell",flat:"",bordered:"",dense:""},{default:p(()=>[e("thead",null,[e("tr",null,[e("th",dl,[t.tasas_status?g("",!0):(a(),n("div",rl,[q(" Tasas "),il,l(U,{modelValue:t.tasas,"onUpdate:modelValue":o=>t.tasas=o,dense:"",class:"input-theme",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]))]),e("th",ul,[t.ice_status?g("",!0):(a(),n("div",ml,[q(" ICE "),pl,l(U,{modelValue:t.ice,"onUpdate:modelValue":o=>t.ice=o,dense:"",class:"input-theme",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]))])])])]),_:2},1024),l(O,{separator:"cell",flat:"",bordered:"",dense:""},{default:p(()=>[e("thead",null,[_l,e("tr",fl,[e("th",vl,[l(f,{color:"primary",icon:"eva-plus",onClick:o=>J(r),dense:"",flat:"",size:"10px"},null,8,["onClick"])]),hl,yl,Vl,bl,gl])]),e("tbody",null,[(a(!0),n(v,null,h(t.detail,(o,_)=>(a(),n("tr",{key:_,class:P({"bg-negative":o.for_delete==1})},[e("td",kl,[l(f,{flat:"",color:"negative",icon:"eva-trash-2-outline",onClick:c=>Y(r,_),dense:"",size:"10px"},null,8,["onClick"])]),e("td",Cl,[l(z,{modelValue:o.type,"onUpdate:modelValue":[c=>o.type=c,c=>o.type=="EXENTO"||o.type=="TASA"||o.type=="ICE"?d.item2.account="-":o.account=null],options:i(x).type,dense:"",class:"input-theme"},null,8,["modelValue","onUpdate:modelValue","options"]),m.errors["documents."+r+".detail."+_+".type"]?(a(),n("div",Ul,[(a(!0),n(v,null,h(m.errors["documents."+r+".detail."+_+".type"],(c,b)=>(a(),n("ul",{key:b,class:"message-error"},[e("li",null,y(c),1)]))),128))])):g("",!0)]),e("td",wl,[l(z,{class:"input-theme",dense:"",options:["Grossing Up","Grossing Down"],modelValue:o.type_calculation,"onUpdate:modelValue":c=>o.type_calculation=c,clearable:""},null,8,["modelValue","onUpdate:modelValue"]),m.errors["documents."+r+".detail."+_+".account"]?(a(),n("div",xl,[(a(!0),n(v,null,h(m.errors["documents."+r+".detail."+_+".type_calculation"],(c,b)=>(a(),n("ul",{key:b,class:"message-error"},[e("li",null,y(c),1)]))),128))])):g("",!0)]),e("td",ql,[l(z,{class:"input-theme",dense:"",options:i(x).accounts_filter,modelValue:o.account,"onUpdate:modelValue":c=>o.account=c,"option-value":"AcctCode","option-label":"AcctName","emit-value":"","map-options":"","use-input":"",onFilter:X,clearable:"",disable:o.type=="EXENTO"||o.type=="TASA"||o.type=="ICE"},null,8,["options","modelValue","onUpdate:modelValue","onFilter","disable"]),m.errors["documents."+r+".detail."+_+".account"]?(a(),n("div",zl,[(a(!0),n(v,null,h(m.errors["documents."+r+".detail."+_+".account"],(c,b)=>(a(),n("ul",{key:b,class:"message-error"},[e("li",null,y(c),1)]))),128))])):g("",!0)]),e("td",$l,[l(U,{modelValue:o.percentage,"onUpdate:modelValue":c=>o.percentage=c,dense:"",class:"input-theme",type:"number"},null,8,["modelValue","onUpdate:modelValue"]),m.errors["documents."+r+".detail."+_+".percentage"]?(a(),n("div",Al,[(a(!0),n(v,null,h(m.errors["documents."+r+".detail."+_+".percentage"],(c,b)=>(a(),n("ul",{key:b,class:"message-error"},[e("li",null,y(c),1)]))),128))])):g("",!0)]),e("td",Dl,[l(U,{modelValue:o.exento,"onUpdate:modelValue":c=>o.exento=c,dense:"",class:"input-theme",type:"number",disable:t.exento_status},null,8,["modelValue","onUpdate:modelValue","disable"])])],2))),128))])]),_:2},1024),l(O,{separator:"cell",flat:"",bordered:"",dense:""},{default:p(()=>[e("thead",null,[El,e("tr",Ql,[e("th",Nl,[l(f,{color:"primary",icon:"eva-plus",onClick:o=>K(r),dense:"",flat:"",size:"10px"},null,8,["onClick"])]),Sl,Tl,Fl])]),e("tbody",null,[(a(!0),n(v,null,h(t.fields,(o,_)=>(a(),n("tr",{key:_,class:P({"bg-negative":o.for_delete==1})},[e("td",Ll,[l(f,{flat:"",color:"negative",icon:"eva-trash-2-outline",onClick:c=>ee(r,_),dense:"",size:"10px"},null,8,["onClick"])]),e("td",Ol,[l(z,{class:"input-theme",dense:"",options:["Debito","Credito"],modelValue:o.type_calculation,"onUpdate:modelValue":c=>o.type_calculation=c,clearable:""},null,8,["modelValue","onUpdate:modelValue"]),m.errors["documents."+r+".fields."+_+".type_calculation"]?(a(),n("div",Hl,[(a(!0),n(v,null,h(m.errors["documents."+r+".fields."+_+".type_calculation"],(c,b)=>(a(),n("ul",{key:b,class:"message-error"},[e("li",null,y(c),1)]))),128))])):g("",!0)]),e("td",Il,[l(U,{modelValue:o.name,"onUpdate:modelValue":c=>o.name=c,dense:"",class:"input-theme"},null,8,["modelValue","onUpdate:modelValue"]),m.errors["documents."+r+".fields."+_+".name"]?(a(),n("div",Pl,[(a(!0),n(v,null,h(m.errors["documents."+r+".fields."+_+".name"],(c,b)=>(a(),n("ul",{key:b,class:"message-error"},[e("li",null,y(c),1)]))),128))])):g("",!0)]),e("td",Bl,[l(z,{class:"input-theme",dense:"",options:i(x).accounts_filter,modelValue:o.account,"onUpdate:modelValue":c=>o.account=c,"option-value":"AcctCode","option-label":"AcctName","emit-value":"","map-options":"","use-input":"",onFilter:X,clearable:""},null,8,["options","modelValue","onUpdate:modelValue","onFilter"]),m.errors["documents."+r+".fields."+_+".account"]?(a(),n("div",jl,[(a(!0),n(v,null,h(m.errors["documents."+r+".fields."+_+".account"],(c,b)=>(a(),n("ul",{key:b,class:"message-error"},[e("li",null,y(c),1)]))),128))])):g("",!0)])],2))),128))])]),_:2},1024)]))),128)),e("div",{class:"col-12 row justify-center items-center cursor-pointer",style:{height:"120px",color:"#344767","background-color":"#f0f2f5","border-radius":"0.5rem"},onClick:s[26]||(s[26]=t=>Z())},[l(oe,{name:"eva-plus"}),q(" Añadir Documento ")])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1})],64))}};export{es as default};
