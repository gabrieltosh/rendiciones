import{Q as L,r as _,j as O,o as a,c as r,a as o,u as n,w as d,F as f,Z as j,b as e,k as F,d as $,e as c,O as C,T as q,h as g,f as b,g as x,C as N,t as p,i as k}from"./app-d3ea3f5f.js";import{Q as V}from"./QSelect-157cd3bf.js";import{Q as T,a as z}from"./QStepper-b91be173.js";import{Q as R}from"./QTree-8cce481a.js";import{_ as E}from"./MainLayout-121499e4.js";import{u as D}from"./use-quasar-5d12cb01.js";import"./QChip-2e538c3c.js";const H={class:"row justify-center q-px-md q-py-lg"},I={class:"col-xs-12 col-sm-12 col-md-9"},M={class:"row"},Z=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"},"Crear Usuario")],-1),G={class:"col-sm-6 text-right q-gutter-sm"},J={class:"row q-col-gutter-md q-mt-xs"},K={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},W=e("div",{class:"form-label",for:"device_name"},[k(" Nombres "),e("span",{class:"text-red"},"*")],-1),X={key:0,class:"container-error"},Y={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ee=e("div",{class:"form-label",for:"device_name"},[k(" Username "),e("span",{class:"text-red"},"*")],-1),le={key:0,class:"container-error"},se={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},oe=e("div",{class:"form-label",for:"device_name"},[k(" Correo Electronico "),e("span",{class:"text-red"},"*")],-1),te={key:0,class:"container-error"},ae={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},re=e("div",{class:"form-label",for:"device_name"},[k(" Contrase침a "),e("span",{class:"text-red"},"*")],-1),ie={key:0,class:"container-error"},ne={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},de=e("div",{class:"form-label",for:"device_name"},[k(" Tipo "),e("span",{class:"text-red"},"*")],-1),ue={key:0,class:"container-error"},ce={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},me=e("div",{class:"form-label",for:"device_name"},[k(" Codigo Empleado "),e("span",{class:"text-red"},"*")],-1),pe={key:0,class:"container-error"},ve={class:"row"},fe={class:"col-12"},_e={class:"row q-ma-sm"},be=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"}," Asignaci칩n de Perfiles ")],-1),ye={class:"col-sm-6 text-right q-gutter-sm"},he={class:"col-sm-6"},ge=e("h5",{class:"title-tree text-center"}," Lista de Perfiles ",-1),xe={class:"tree-label"},Ve={class:"col-sm-5"},ke=e("h5",{class:"title-tree text-center"}," Perfiles Seleccionados ",-1),Ce={class:"q-ma-none"},qe={class:"row"},Ue={class:"col-12"},we={class:"row q-ma-sm"},$e=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"}," Asignaci칩n de Autorizadores ")],-1),Ne={class:"col-sm-6 text-right q-gutter-sm"},ze={class:"col-sm-6"},Qe=e("h5",{class:"title-tree text-center"}," Lista de Usuarios ",-1),Se={class:"tree-label"},Ae={class:"col-sm-5"},Pe=e("h5",{class:"title-tree text-center"}," Usuario Seleccionados ",-1),Re={class:"q-ma-none"},Be={class:"row"},Le=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"}," Normas de Reparto ")],-1),Oe={class:"col-sm-6 text-right q-gutter-sm"},je={class:"row q-col-gutter-md q-mt-xs"},Fe={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Te=e("div",{class:"form-label",for:"device_name"}," Norma Reparto 1 ",-1),Ee={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},De=e("div",{class:"form-label",for:"device_name"}," Norma Reparto 2 ",-1),He={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Ie=e("div",{class:"form-label",for:"device_name"}," Norma Reparto 3 ",-1),Me={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Ze=e("div",{class:"form-label",for:"device_name"}," Norma Reparto 4 ",-1),Ge={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Je=e("div",{class:"form-label",for:"device_name"}," Norma Reparto 5 ",-1),ol={__name:"CreateUser",props:{title:String,errors:Object},setup(i){const A=D(),m=L();let U=_(m.props.flash.message),w=_(m.props.flash.type),y=_(1);const h=_({profiles:m.props.profiles,distribution:m.props.distribution,users:m.props.users}),Q=_(""),S=_("");_({card:!1});const t=_({name:null,username:null,email:null,password:null,type:null,distribution_rule_one:null,distribution_rule_two:null,distribution_rule_three:null,distribution_rule_four:null,distribution_rule_five:null,card_code:null,profiles:[],users:[]});function B(){C.post(q("panel.user.store"),t.value,{onSuccess:()=>{U.value=m.props.flash.message,w.value=m.props.flash.type,A.notify({type:w.value,message:U.value})}})}function P(v,s){const l=s.toLowerCase();return v.label&&v.label.toLowerCase().indexOf(l)>-1}return O(()=>{m.props.flash.message&&(U.value=m.props.flash.message,w.value=m.props.flash.type,A.notify({type:w.value,message:U.value}))}),(v,s)=>(a(),r(f,null,[o(n(j),{title:i.title},null,8,["title"]),o(E,null,{default:d(()=>[e("div",H,[e("div",I,[o(T,{modelValue:n(y),"onUpdate:modelValue":s[26]||(s[26]=l=>F(y)?y.value=l:y=l),"header-nav":"",ref:"stepper",color:"primary",animated:"",flat:"","alternative-labels":"",class:"backgroup-theme"},{default:d(()=>[o(z,{name:1,title:"Datos Usuario",icon:"settings",done:n(y)>1,error:Object.keys(i.errors).length>0},{default:d(()=>[o($,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:d(()=>[e("div",M,[Z,e("div",G,[o(c,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[0]||(s[0]=l=>n(C).visit(n(q)("panel.user.index"))),flat:""}),o(c,{onClick:s[1]||(s[1]=l=>v.$refs.stepper.next()),color:"primary","no-caps":"",size:"12px",label:"Continuar"})])]),e("div",J,[e("div",K,[W,o(g,{modelValue:t.value.name,"onUpdate:modelValue":s[2]||(s[2]=l=>t.value.name=l),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.name?(a(),r("div",X,[(a(!0),r(f,null,b(i.errors.name,(l,u)=>(a(),r("ul",{key:u,class:"message-error"},[e("li",null,p(l),1)]))),128))])):x("",!0)]),e("div",Y,[ee,o(g,{modelValue:t.value.username,"onUpdate:modelValue":s[3]||(s[3]=l=>t.value.username=l),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.username?(a(),r("div",le,[(a(!0),r(f,null,b(i.errors.username,(l,u)=>(a(),r("ul",{key:u,class:"message-error"},[e("li",null,p(l),1)]))),128))])):x("",!0)]),e("div",se,[oe,o(g,{modelValue:t.value.email,"onUpdate:modelValue":s[4]||(s[4]=l=>t.value.email=l),dense:"",outlined:"",class:"input-theme",type:"email"},null,8,["modelValue"]),i.errors.email?(a(),r("div",te,[(a(!0),r(f,null,b(i.errors.email,(l,u)=>(a(),r("ul",{key:u,class:"message-error"},[e("li",null,p(l),1)]))),128))])):x("",!0)]),e("div",ae,[re,o(g,{modelValue:t.value.password,"onUpdate:modelValue":s[5]||(s[5]=l=>t.value.password=l),dense:"",outlined:"",class:"input-theme",type:"password"},null,8,["modelValue"]),i.errors.password?(a(),r("div",ie,[(a(!0),r(f,null,b(i.errors.password,(l,u)=>(a(),r("ul",{key:u,class:"message-error"},[e("li",null,p(l),1)]))),128))])):x("",!0)]),e("div",ne,[de,o(V,{modelValue:t.value.type,"onUpdate:modelValue":s[6]||(s[6]=l=>t.value.type=l),options:["Administrador","Usuario"],dense:"",outlined:"",class:"input-theme",type:"password"},null,8,["modelValue"]),i.errors.type?(a(),r("div",ue,[(a(!0),r(f,null,b(i.errors.type,(l,u)=>(a(),r("ul",{key:u,class:"message-error"},[e("li",null,p(l),1)]))),128))])):x("",!0)]),e("div",ce,[me,o(g,{modelValue:t.value.card_code,"onUpdate:modelValue":s[7]||(s[7]=l=>t.value.card_code=l),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.card_code?(a(),r("div",pe,[(a(!0),r(f,null,b(i.errors.card_code,(l,u)=>(a(),r("ul",{key:u,class:"message-error"},[e("li",null,p(l),1)]))),128))])):x("",!0)])])]),_:1})]),_:1},8,["done","error"]),o(z,{name:2,title:"Perfiles",icon:"eva-person-outline",done:n(y)>2},{default:d(()=>[o($,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:d(()=>[e("div",ve,[e("div",fe,[e("div",_e,[be,e("div",ye,[o(c,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[8]||(s[8]=l=>n(C).visit(n(q)("panel.user.index"))),flat:""}),o(c,{flat:"",color:"primary",onClick:s[9]||(s[9]=l=>v.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px",class:"q-ml-sm"}),o(c,{onClick:s[10]||(s[10]=l=>v.$refs.stepper.next()),color:"primary","no-caps":"",size:"12px",label:"Continuar"})])]),o(N)]),e("div",he,[ge,o(g,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:Q.value,"onUpdate:modelValue":s[11]||(s[11]=l=>Q.value=l),class:"input-theme"},null,8,["modelValue"]),o(R,{nodes:h.value.profiles,"node-key":"label","tick-strategy":"leaf",ticked:t.value.profiles,"onUpdate:ticked":s[12]||(s[12]=l=>t.value.profiles=l),filter:Q.value,"filter-method":P},{"default-header":d(l=>[e("div",xe,p(l.node.label),1)]),_:1},8,["nodes","ticked","filter"])]),o(N,{spaced:"",inset:"",vertical:""}),e("div",Ve,[ke,e("ul",Ce,[(a(!0),r(f,null,b(t.value.profiles,l=>(a(),r("div",{key:`ticked-${l}`,class:"tree-label"},[e("li",null,p(l),1)]))),128))])])])]),_:1})]),_:1},8,["done"]),o(z,{name:3,title:"Autorizaci칩n",icon:"eva-person-outline",done:n(y)>3},{default:d(()=>[o($,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:d(()=>[e("div",qe,[e("div",Ue,[e("div",we,[$e,e("div",Ne,[o(c,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[13]||(s[13]=l=>n(C).visit(n(q)("panel.user.index"))),flat:""}),o(c,{flat:"",color:"primary",onClick:s[14]||(s[14]=l=>v.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px",class:"q-ml-sm"}),o(c,{onClick:s[15]||(s[15]=l=>v.$refs.stepper.next()),color:"primary","no-caps":"",size:"12px",label:"Continuar"})])]),o(N)]),e("div",ze,[Qe,o(g,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:S.value,"onUpdate:modelValue":s[16]||(s[16]=l=>S.value=l),class:"input-theme"},null,8,["modelValue"]),o(R,{nodes:h.value.users,"node-key":"label","tick-strategy":"leaf",ticked:t.value.users,"onUpdate:ticked":s[17]||(s[17]=l=>t.value.users=l),filter:S.value,"filter-method":P},{"default-header":d(l=>[e("div",Se,p(l.node.label),1)]),_:1},8,["nodes","ticked","filter"])]),o(N,{spaced:"",inset:"",vertical:""}),e("div",Ae,[Pe,e("ul",Re,[(a(!0),r(f,null,b(t.value.users,l=>(a(),r("div",{key:`ticked-${l}`,class:"tree-label"},[e("li",null,p(l),1)]))),128))])])])]),_:1})]),_:1},8,["done"]),o(z,{name:4,title:"Normas Reparto",icon:"eva-file-text-outline"},{default:d(()=>[o($,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:d(()=>[e("div",Be,[Le,e("div",Oe,[o(c,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[18]||(s[18]=l=>n(C).visit(n(q)("panel.user.index"))),flat:""}),o(c,{flat:"",color:"primary",onClick:s[19]||(s[19]=l=>v.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px",class:"q-ml-sm"}),o(c,{color:"primary",label:"Crear",size:"12px","no-caps":"",onClick:s[20]||(s[20]=l=>B())})])]),e("div",je,[e("div",Fe,[Te,o(V,{class:"input-theme",dense:"",outlined:"",options:h.value.distribution[1],modelValue:t.value.distribution_rule_one,"onUpdate:modelValue":s[21]||(s[21]=l=>t.value.distribution_rule_one=l),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])]),e("div",Ee,[De,o(V,{class:"input-theme",dense:"",outlined:"",options:h.value.distribution[2],modelValue:t.value.distribution_rule_second,"onUpdate:modelValue":s[22]||(s[22]=l=>t.value.distribution_rule_second=l),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])]),e("div",He,[Ie,o(V,{class:"input-theme",dense:"",outlined:"",options:h.value.distribution[3],modelValue:t.value.distribution_rule_three,"onUpdate:modelValue":s[23]||(s[23]=l=>t.value.distribution_rule_three=l),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])]),e("div",Me,[Ze,o(V,{class:"input-theme",dense:"",outlined:"",options:h.value.distribution[4],modelValue:t.value.distribution_rule_four,"onUpdate:modelValue":s[24]||(s[24]=l=>t.value.distribution_rule_four=l),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])]),e("div",Ge,[Je,o(V,{class:"input-theme",dense:"",outlined:"",options:h.value.distribution[5],modelValue:t.value.distribution_rule_five,"onUpdate:modelValue":s[25]||(s[25]=l=>t.value.distribution_rule_five=l),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1})],64))}};export{ol as default};
