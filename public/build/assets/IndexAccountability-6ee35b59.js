import{_ as B,Q as A}from"./MainLayout-cc7c3ca8.js";import{Q as D,r as m,o as h,c as k,a as e,u as p,w as a,F as Q,Z as S,b as d,d as C,h as L,y as N,z as $,k as j,f as O,e as b,i as l,t as s,E as H,C as z,l as q,g as M,D as U,O as V,T as F}from"./app-10529476.js";import{Q as P,a as I,b as E,c as r,d as y}from"./QTable-86d456f6.js";import{u as Y,Q as Z,a as i,b as n,c as o}from"./use-quasar-624edc06.js";import{Q as G}from"./QBadge-5929e512.js";import"./QSelect-b8e9a33b.js";import"./QMarkupTable-ca01c20c.js";const J={class:"q-px-sm q-py-md"},K=d("h5",{class:"title-form"},"Lista de Rendiciones a Autorizar",-1),W={class:"text-center q-gutter-xs"},X={class:"q-pa-xs col-xs-12 col-sm-6 col-md-3"},ee={target:".q-card",src:"https://cdn.lordicon.com/dnbjoceq.json",trigger:"hover",colors:"primary:white,secondary:#08a88a",style:{width:"50px",height:"50px"},ref:"animation"},ae={class:"row q-pa-sm"},te=d("div",{class:"col-xs-3 col-sm-3 col-md-2"},null,-1),le={class:"col-xs-9 col-sm-9 col-md-10 text-right"},se={class:"form-label"},oe={class:"col-12 q-mt-sm"},me={__name:"IndexAccountability",props:{title:String,data:Object},setup(R){Y();const x=D();let T=m(x.props.data);m(x.props.flash.message),m(x.props.flash.type);let u=m(!0);const _=m({filter:"",loading:!1,columns:[{name:"id",align:"center",label:"ID",field:"id",sortable:!0},{name:"employee_name",align:"center",label:"Empleado",field:"employee_name",sortable:!0},{name:"account_name",align:"center",label:"Cuenta",field:"account_name",sortable:!0},{name:"total",align:"center",label:"Monto",field:"total",sortable:!0},{name:"start_date",align:"center",label:"Fecha Inicio",field:"start_date"},{name:"end_date",align:"center",label:"Fecha Fin",field:"end_date"},{name:"created_at",align:"center",label:"Fecha de Creación",field:"created_at",sortable:!0}]});function w(f){V.visit(F("panel.accountability.authorization.edit",f))}function v(f){V.visit(F("panel.accountability.authorization.detail.index",f))}return(f,g)=>(h(),k(Q,null,[e(p(S),{title:R.title},null,8,["title"]),e(B,null,{default:a(()=>[d("div",J,[e(C,{class:"card-form q-mt-sm"},{default:a(()=>[e(P,{loading:_.value.loading,rows:p(T),columns:_.value.columns,"row-key":"id",class:"table-theme",filter:_.value.filter,separator:"horizontal",grid:p(u),flat:"",bordered:"","table-header-class":{"table-header-theme":!0}},{top:a(()=>[K,e(A),e(L,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:_.value.filter,"onUpdate:modelValue":g[0]||(g[0]=t=>_.value.filter=t),class:"input-theme"},{append:a(()=>[e(N,{name:"search"})]),_:1},8,["modelValue"]),e($,{modelValue:p(u),"onUpdate:modelValue":g[1]||(g[1]=t=>j(u)?u.value=t:u=t),"checked-icon":"eva-grid-outline",color:"green","unchecked-icon":"eva-menu-outline","keep-color":"",size:"lg"},null,8,["modelValue"])]),header:a(t=>[e(I,{props:t},{default:a(()=>[e(E,{"auto-width":""}),(h(!0),k(Q,null,O(t.cols,c=>(h(),q(E,{key:c.name,props:t},{default:a(()=>[l(s(c.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),body:a(t=>[e(I,{props:t},{default:a(()=>[e(r,{style:{width:"110px !important"}},{default:a(()=>[d("div",W,[e(b,{size:"sm",color:"primary",dense:"",onClick:c=>v(t.row.id),icon:"eva-plus"},{default:a(()=>[e(y,{class:"bg-secondary",offset:[10,10]},{default:a(()=>[l(" Detalle de Rendición ")]),_:1})]),_:2},1032,["onClick"]),e(b,{size:"sm",color:"secondary",dense:"",onClick:c=>w(t.row.id),icon:"eva-edit-2-outline"},{default:a(()=>[e(y,{class:"bg-secondary",offset:[10,10]},{default:a(()=>[l(" Editar de Rendición ")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024),e(r,{key:"id",props:t},{default:a(()=>[l(s(t.row.id),1)]),_:2},1032,["props"]),e(r,{key:"employee_name",props:t},{default:a(()=>[l(s(t.row.employee_name),1)]),_:2},1032,["props"]),e(r,{key:"account_name",props:t},{default:a(()=>[l(s(t.row.account_name),1)]),_:2},1032,["props"]),e(r,{key:"total",props:t},{default:a(()=>[l(s(t.row.total),1)]),_:2},1032,["props"]),e(r,{key:"start_date",props:t},{default:a(()=>[l(s(t.row.start_date),1)]),_:2},1032,["props"]),e(r,{key:"end_date",props:t},{default:a(()=>[l(s(t.row.end_date),1)]),_:2},1032,["props"]),e(r,{key:"created_at",props:t},{default:a(()=>[l(s(t.row.created_at),1)]),_:2},1032,["props"])]),_:2},1032,["props"])]),item:a(t=>[d("div",X,[e(C,{class:"card-grid q-mt-md shadow-0",bordered:""},{default:a(()=>[e(H,{square:"",size:"50px",class:"absolute",style:{top:"12px",left:"12px",transform:"translateY(-50%)","border-radius":"10px","background-color":"#1b2033","box-shadow":`0rem 0.25rem 1.25rem 0rem
                                                rgba(0, 0, 0, 0.14),
                                            0rem 0.4375rem 0.625rem -0.3125rem rgba(64, 64, 64, 0.4)`}},{default:a(()=>[d("lord-icon",ee,null,512)]),_:1}),d("div",ae,[te,d("div",le,[d("div",se,s(t.row.description),1)])]),d("div",oe,[e(z,{spaced:""}),e(Z,{dense:""},{default:a(()=>[e(i,{class:"text-right"},{default:a(()=>[e(n,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Realizado por")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.user.name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(i,{class:"text-right"},{default:a(()=>[e(n,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Empleado")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.employee_name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(i,{class:"text-right"},{default:a(()=>[e(n,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Cuenta")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.account_name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(i,{class:"text-right"},{default:a(()=>[e(n,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Monto")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.total),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(i,{class:"text-right"},{default:a(()=>[e(n,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Fecha Inicio")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.start_date),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(i,{class:"text-right"},{default:a(()=>[e(n,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Fecha Final")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[l(s(t.row.end_date),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),t.row.status?(h(),q(i,{key:0,class:"text-right"},{default:a(()=>[e(n,null,{default:a(()=>[e(o,{class:"title-grid"},{default:a(()=>[l("Estado")]),_:1}),e(o,{class:"text-grid"},{default:a(()=>[e(G,{color:t.row.status=="Pendiente"?"orange":t.row.status=="Rechazado"?"red":"green",label:t.row.status},null,8,["color","label"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):M("",!0)]),_:2},1024),e(z,{spaced:""})]),e(U,{align:"center",class:"q-pt-none"},{default:a(()=>[e(b,{size:"sm",color:"primary",onClick:c=>v(t.row.id),icon:"eva-plus"},{default:a(()=>[e(y,{class:"bg-secondary",offset:[10,10]},{default:a(()=>[l(" Detalle de Rendición ")]),_:1})]),_:2},1032,["onClick"]),e(b,{size:"sm",color:"secondary",onClick:c=>w(t.row.id),icon:"eva-edit-2-outline"},{default:a(()=>[e(y,{class:"bg-secondary",offset:[10,10]},{default:a(()=>[l(" Editar de Rendición ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)])]),_:1},8,["loading","rows","columns","filter","grid"])]),_:1})])]),_:1})],64))}};export{me as default};
