import{Q as O,r as y,o,c as t,a as c,u as g,w as V,F as d,Z as S,b as e,d as B,e as k,O as C,T as F,f as p,g as v,h,i as _,t as f}from"./app-9c0252b0.js";import{Q as w}from"./QSelect-80838df8.js";import{_ as N}from"./MainLayout-9fb08ded.js";import{u as $}from"./use-quasar-b15c9383.js";const E={class:"row justify-center q-px-md q-py-lg"},H={class:"col-xs-12 col-sm-12 col-md-9"},j={class:"row"},z=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"},"Crear Rendición")],-1),A={class:"col-sm-6 text-right q-gutter-sm"},D={class:"row q-col-gutter-md q-mt-xs"},I={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},R=e("div",{class:"form-label",for:"device_name"}," Empleado ",-1),T={key:0,class:"container-error"},M={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Z=e("div",{class:"form-label",for:"device_name"},[_(" Cuenta "),e("span",{class:"text-red"},"*")],-1),G={key:0,class:"container-error"},J={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},K=e("div",{class:"form-label",for:"device_name"},[_(" Monto Recepcionado "),e("span",{class:"text-red"},"*")],-1),P={key:0,class:"container-error"},W={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},X=e("div",{class:"form-label",for:"device_name"},[_(" Descripción "),e("span",{class:"text-red"},"*")],-1),Y={key:0,class:"container-error"},ee={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},le=e("div",{class:"form-label",for:"device_name"},[_(" Fecha Inicio "),e("span",{class:"text-red"},"*")],-1),se={key:0,class:"container-error"},oe={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},te=e("div",{class:"form-label",for:"device_name"},[_(" Fecha Final "),e("span",{class:"text-red"},"*")],-1),ae={key:0,class:"container-error"},de={__name:"CreateAccountability",props:{title:String,errors:Object},setup(n){const q=$(),i=O();let x=y(i.props.flash.message),b=y(i.props.flash.type);const u=y({accounts:null,employees:[]});y({card:!1});const r=y({user_id:null,employee:null,account:null,total:null,description:null,preliminary:null,start_date:null,end_date:null});function Q(){C.post(F("panel.accountability.manage.store",i.props.profile.id),r.value,{onSuccess:()=>{x.value=i.props.flash.message,b.value=i.props.flash.type,q.notify({type:b.value,message:x.value})}})}function U(m,s){if(m===""){s(()=>{u.value.accounts=i.props.accounts});return}s(()=>{const l=m.toLowerCase();u.value.accounts=i.props.accounts.filter(a=>a.label.toLowerCase().indexOf(l)>-1)})}function L(m,s){if(m===""){s(()=>{u.value.employees=i.props.employees});return}s(()=>{const l=m.toLowerCase();u.value.employees=i.props.employees.filter(a=>a.card_name.toLowerCase().indexOf(l)>-1)})}return(m,s)=>(o(),t(d,null,[c(g(S),{title:n.title},null,8,["title"]),c(N,null,{default:V(()=>[e("div",E,[e("div",H,[c(B,{class:"q-pa-lg card-form"},{default:V(()=>[e("div",j,[z,e("div",A,[c(k,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[0]||(s[0]=l=>g(C).visit(g(F)("panel.accountability.manage.index",g(i).props.profile.id))),flat:""}),c(k,{color:"primary",label:"Crear",size:"12px","no-caps":"",onClick:s[1]||(s[1]=l=>Q())})])]),e("div",D,[e("div",I,[R,c(w,{class:"input-theme",dense:"",outlined:"",options:u.value.employees,modelValue:r.value.employee,"onUpdate:modelValue":s[2]||(s[2]=l=>r.value.employee=l),"option-value":"card_code","option-label":"card_name","emit-value":"","map-options":"","use-input":"","input-debounce":"0",onFilter:L,clearable:""},null,8,["options","modelValue"]),n.errors.employee?(o(),t("div",T,[(o(!0),t(d,null,p(n.errors.employee,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",M,[Z,c(w,{class:"input-theme",dense:"",outlined:"",options:u.value.accounts,modelValue:r.value.account,"onUpdate:modelValue":s[3]||(s[3]=l=>r.value.account=l),"option-value":"account_code","option-label":"label","emit-value":"","map-options":"","use-input":"","input-debounce":"0",onFilter:U,clearable:""},null,8,["options","modelValue"]),n.errors.account?(o(),t("div",G,[(o(!0),t(d,null,p(n.errors.account,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",J,[K,c(h,{modelValue:r.value.total,"onUpdate:modelValue":s[4]||(s[4]=l=>r.value.total=l),dense:"",outlined:"",type:"number",class:"input-theme"},null,8,["modelValue"]),n.errors.total?(o(),t("div",P,[(o(!0),t(d,null,p(n.errors.total,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",W,[X,c(h,{modelValue:r.value.description,"onUpdate:modelValue":s[5]||(s[5]=l=>r.value.description=l),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),n.errors.description?(o(),t("div",Y,[(o(!0),t(d,null,p(n.errors.description,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",ee,[le,c(h,{modelValue:r.value.start_date,"onUpdate:modelValue":s[6]||(s[6]=l=>r.value.start_date=l),dense:"",outlined:"",class:"input-theme",type:"date"},null,8,["modelValue"]),n.errors.start_date?(o(),t("div",se,[(o(!0),t(d,null,p(n.errors.start_date,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",oe,[te,c(h,{modelValue:r.value.end_date,"onUpdate:modelValue":s[7]||(s[7]=l=>r.value.end_date=l),dense:"",outlined:"",type:"date",class:"input-theme"},null,8,["modelValue"]),n.errors.end_date?(o(),t("div",ae,[(o(!0),t(d,null,p(n.errors.end_date,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)])])]),_:1})])])]),_:1})],64))}};export{de as default};
