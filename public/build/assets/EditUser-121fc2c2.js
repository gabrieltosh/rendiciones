import{Q as E,r as x,o as a,c as r,a as o,u,w as c,F as p,Z as L,b as l,k as j,d as $,e as n,O as h,T as k,h as g,f,g as V,C as w,t as m,i as q}from"./app-3fcf3b11.js";import{Q as C}from"./QSelect-a39ca06e.js";import{Q as F,a as z}from"./QStepper-d2e00a6f.js";import{Q as B}from"./QTree-233d2ee2.js";import{_ as T}from"./MainLayout-1370bc59.js";import{u as R}from"./use-quasar-998014e7.js";import"./QChip-0e9a2d77.js";const D={class:"row justify-center q-px-md q-py-lg"},H={class:"col-xs-12 col-sm-12 col-md-9"},I={class:"row"},Z=l("div",{class:"col-sm-6"},[l("h5",{class:"title-form"},"Crear Usuario")],-1),G={class:"col-sm-6 text-right q-gutter-sm"},J={class:"row q-col-gutter-md q-mt-xs"},K={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},M=l("div",{class:"form-label",for:"device_name"},[q(" Nombres "),l("span",{class:"text-red"},"*")],-1),W={key:0,class:"container-error"},X={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Y=l("div",{class:"form-label",for:"device_name"},[q(" Username "),l("span",{class:"text-red"},"*")],-1),ee={key:0,class:"container-error"},le={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},se=l("div",{class:"form-label",for:"device_name"},[q(" Correo Electronico "),l("span",{class:"text-red"},"*")],-1),oe={key:0,class:"container-error"},te={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ae=l("div",{class:"form-label",for:"device_name"}," Contrase침a ",-1),re={key:0,class:"container-error"},ie={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ne=l("div",{class:"form-label",for:"device_name"},[q(" Tipo "),l("span",{class:"text-red"},"*")],-1),de={key:0,class:"container-error"},ue={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ce=l("div",{class:"form-label",for:"device_name"},[q(" Estado "),l("span",{class:"text-red"},"*")],-1),me={key:0,class:"container-error"},pe={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ve=l("div",{class:"form-label",for:"device_name"}," Codigo Empleado ",-1),fe={key:0,class:"container-error"},_e={class:"row"},be={class:"col-12"},ye={class:"row q-ma-sm"},xe=l("div",{class:"col-sm-6"},[l("h5",{class:"title-form"}," Asignaci칩n de Perfiles ")],-1),ge={class:"col-sm-6 text-right q-gutter-sm"},Ve={class:"col-sm-6"},Ce=l("h5",{class:"title-tree text-center"}," Lista de Perfiles ",-1),he={class:"tree-label"},ke={class:"col-sm-5"},qe=l("h5",{class:"title-tree text-center"}," Perfiles Seleccionados ",-1),Ue={class:"q-ma-none"},$e={class:"row"},we={class:"col-12"},ze={class:"row q-ma-sm"},Ae=l("div",{class:"col-sm-6"},[l("h5",{class:"title-form"}," Asignaci칩n de Autorizadores ")],-1),Qe={class:"col-sm-6 text-right q-gutter-sm"},Ne={class:"col-sm-6"},Pe=l("h5",{class:"title-tree text-center"}," Lista de Usuarios ",-1),Se={class:"tree-label"},Be={class:"col-sm-5"},Oe=l("h5",{class:"title-tree text-center"}," Usuario Seleccionados ",-1),Ee={class:"q-ma-none"},Le={class:"row"},je=l("div",{class:"col-sm-6"},[l("h5",{class:"title-form"}," Normas de Reparto ")],-1),Fe={class:"col-sm-6 text-right q-gutter-sm"},Te={class:"row q-col-gutter-md q-mt-xs"},Re={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},De=l("div",{class:"form-label",for:"device_name"}," Centro de Costo 1 ",-1),He={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Ie=l("div",{class:"form-label",for:"device_name"}," Centro de Costo 2 ",-1),Ze={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Ge=l("div",{class:"form-label",for:"device_name"}," Centro de Costo 3 ",-1),Je={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Ke=l("div",{class:"form-label",for:"device_name"}," Centro de Costo 4 ",-1),Me={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},We=l("div",{class:"form-label",for:"device_name"}," Centro de Costo 5 ",-1),al={__name:"EditUser",props:{title:String,errors:Object,user:Object},setup(i){const O=R(),_=E();let N=x(_.props.flash.message),P=x(_.props.flash.type);const b=x({profiles:_.props.profiles,distribution:_.props.distribution,users:_.props.users}),A=x(""),Q=x(""),t=x(_.props.user);let y=x(1);function U(){h.put(k("panel.user.update"),t.value,{onSuccess:()=>{N.value=_.props.flash.message,P.value=_.props.flash.type,O.notify({type:P.value,message:N.value})}})}function S(v,s){const e=s.toLowerCase();return v.label&&v.label.toLowerCase().indexOf(e)>-1}return(v,s)=>(a(),r(p,null,[o(u(L),{title:i.title},null,8,["title"]),o(T,null,{default:c(()=>[l("div",D,[l("div",H,[o(F,{modelValue:u(y),"onUpdate:modelValue":s[30]||(s[30]=e=>j(y)?y.value=e:y=e),"header-nav":"",ref:"stepper",color:"primary",animated:"",flat:"","alternative-labels":"",class:"backgroup-theme"},{default:c(()=>[o(z,{name:1,title:"Datos Usuario",icon:"settings",done:u(y)>1,error:Object.keys(i.errors).length>0},{default:c(()=>[o($,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:c(()=>[l("div",I,[Z,l("div",G,[o(n,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[0]||(s[0]=e=>u(h).visit(u(k)("panel.user.index"))),flat:""}),o(n,{onClick:s[1]||(s[1]=e=>v.$refs.stepper.next()),outline:"",color:"primary","no-caps":"",size:"12px",label:"Continuar"}),o(n,{color:"primary",label:"Actualizar",size:"12px","no-caps":"",onClick:s[2]||(s[2]=e=>U())})])]),l("div",J,[l("div",K,[M,o(g,{modelValue:t.value.name,"onUpdate:modelValue":s[3]||(s[3]=e=>t.value.name=e),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.name?(a(),r("div",W,[(a(!0),r(p,null,f(i.errors.name,(e,d)=>(a(),r("ul",{key:d,class:"message-error"},[l("li",null,m(e),1)]))),128))])):V("",!0)]),l("div",X,[Y,o(g,{modelValue:t.value.username,"onUpdate:modelValue":s[4]||(s[4]=e=>t.value.username=e),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.username?(a(),r("div",ee,[(a(!0),r(p,null,f(i.errors.username,(e,d)=>(a(),r("ul",{key:d,class:"message-error"},[l("li",null,m(e),1)]))),128))])):V("",!0)]),l("div",le,[se,o(g,{modelValue:t.value.email,"onUpdate:modelValue":s[5]||(s[5]=e=>t.value.email=e),dense:"",outlined:"",class:"input-theme",type:"email"},null,8,["modelValue"]),i.errors.email?(a(),r("div",oe,[(a(!0),r(p,null,f(i.errors.email,(e,d)=>(a(),r("ul",{key:d,class:"message-error"},[l("li",null,m(e),1)]))),128))])):V("",!0)]),l("div",te,[ae,o(g,{modelValue:t.value.password,"onUpdate:modelValue":s[6]||(s[6]=e=>t.value.password=e),dense:"",outlined:"",class:"input-theme",type:"password"},null,8,["modelValue"]),i.errors.password?(a(),r("div",re,[(a(!0),r(p,null,f(i.errors.password,(e,d)=>(a(),r("ul",{key:d,class:"message-error"},[l("li",null,m(e),1)]))),128))])):V("",!0)]),l("div",ie,[ne,o(C,{modelValue:t.value.type,"onUpdate:modelValue":s[7]||(s[7]=e=>t.value.type=e),options:["Administrador","Usuario"],dense:"",outlined:"",class:"input-theme",type:"password"},null,8,["modelValue"]),i.errors.type?(a(),r("div",de,[(a(!0),r(p,null,f(i.errors.type,(e,d)=>(a(),r("ul",{key:d,class:"message-error"},[l("li",null,m(e),1)]))),128))])):V("",!0)]),l("div",ue,[ce,o(C,{modelValue:t.value.status,"onUpdate:modelValue":s[8]||(s[8]=e=>t.value.status=e),options:["Activo","PreActivo","Bloqueado"],dense:"",outlined:"",class:"input-theme",type:"password"},null,8,["modelValue"]),i.errors.status?(a(),r("div",me,[(a(!0),r(p,null,f(i.errors.status,(e,d)=>(a(),r("ul",{key:d,class:"message-error"},[l("li",null,m(e),1)]))),128))])):V("",!0)]),l("div",pe,[ve,o(g,{modelValue:t.value.card_code,"onUpdate:modelValue":s[9]||(s[9]=e=>t.value.card_code=e),dense:"",outlined:"",class:"input-theme",clearable:""},null,8,["modelValue"]),i.errors.card_code?(a(),r("div",fe,[(a(!0),r(p,null,f(i.errors.card_code,(e,d)=>(a(),r("ul",{key:d,class:"message-error"},[l("li",null,m(e),1)]))),128))])):V("",!0)])])]),_:1})]),_:1},8,["done","error"]),o(z,{name:2,title:"Perfiles",icon:"eva-person-outline",done:u(y)>2},{default:c(()=>[o($,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:c(()=>[l("div",_e,[l("div",be,[l("div",ye,[xe,l("div",ge,[o(n,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[10]||(s[10]=e=>u(h).visit(u(k)("panel.user.index"))),flat:""}),o(n,{flat:"",color:"primary",onClick:s[11]||(s[11]=e=>v.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px",class:"q-ml-sm"}),o(n,{onClick:s[12]||(s[12]=e=>v.$refs.stepper.next()),color:"primary","no-caps":"",size:"12px",label:"Continuar",outline:""}),o(n,{color:"primary",label:"Actualizar",size:"12px","no-caps":"",onClick:s[13]||(s[13]=e=>U())})])]),o(w)]),l("div",Ve,[Ce,o(g,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:A.value,"onUpdate:modelValue":s[14]||(s[14]=e=>A.value=e),class:"input-theme"},null,8,["modelValue"]),o(B,{nodes:b.value.profiles,"node-key":"label","tick-strategy":"leaf",ticked:t.value.profiles,"onUpdate:ticked":s[15]||(s[15]=e=>t.value.profiles=e),filter:A.value,"filter-method":S},{"default-header":c(e=>[l("div",he,m(e.node.label),1)]),_:1},8,["nodes","ticked","filter"])]),o(w,{spaced:"",inset:"",vertical:""}),l("div",ke,[qe,l("ul",Ue,[(a(!0),r(p,null,f(t.value.profiles,e=>(a(),r("div",{key:`ticked-${e}`,class:"tree-label"},[l("li",null,m(e),1)]))),128))])])])]),_:1})]),_:1},8,["done"]),o(z,{name:3,title:"Autorizaci칩n",icon:"eva-person-outline",done:u(y)>3},{default:c(()=>[o($,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:c(()=>[l("div",$e,[l("div",we,[l("div",ze,[Ae,l("div",Qe,[o(n,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[16]||(s[16]=e=>u(h).visit(u(k)("panel.user.index"))),flat:""}),o(n,{flat:"",color:"primary",onClick:s[17]||(s[17]=e=>v.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px",class:"q-ml-sm"}),o(n,{onClick:s[18]||(s[18]=e=>v.$refs.stepper.next()),outline:"",color:"primary","no-caps":"",size:"12px",label:"Continuar"}),o(n,{color:"primary",label:"Actualizar",size:"12px","no-caps":"",onClick:s[19]||(s[19]=e=>U())})])]),o(w)]),l("div",Ne,[Pe,o(g,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:Q.value,"onUpdate:modelValue":s[20]||(s[20]=e=>Q.value=e),class:"input-theme"},null,8,["modelValue"]),o(B,{nodes:b.value.users,"node-key":"label","tick-strategy":"leaf",ticked:t.value.users,"onUpdate:ticked":s[21]||(s[21]=e=>t.value.users=e),filter:Q.value,"filter-method":S},{"default-header":c(e=>[l("div",Se,m(e.node.label),1)]),_:1},8,["nodes","ticked","filter"])]),o(w,{spaced:"",inset:"",vertical:""}),l("div",Be,[Oe,l("ul",Ee,[(a(!0),r(p,null,f(t.value.users,e=>(a(),r("div",{key:`ticked-${e}`,class:"tree-label"},[l("li",null,m(e),1)]))),128))])])])]),_:1})]),_:1},8,["done"]),o(z,{name:4,title:"Normas Reparto",icon:"eva-file-text-outline"},{default:c(()=>[o($,{class:"q-pa-lg card-form q-mt-md"},{default:c(()=>[l("div",Le,[je,l("div",Fe,[o(n,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[22]||(s[22]=e=>u(h).visit(u(k)("panel.user.index"))),flat:""}),o(n,{flat:"",color:"primary",onClick:s[23]||(s[23]=e=>v.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px",class:"q-ml-sm"}),o(n,{color:"primary",label:"Actualizar",size:"12px","no-caps":"",onClick:s[24]||(s[24]=e=>U())})])]),l("div",Te,[l("div",Re,[De,o(C,{class:"input-theme",dense:"",outlined:"",options:b.value.distribution[1],modelValue:t.value.distribution_rule_one,"onUpdate:modelValue":s[25]||(s[25]=e=>t.value.distribution_rule_one=e),"option-value":"PrcCode","option-label":"Name","emit-value":"",clearable:"","map-options":""},null,8,["options","modelValue"])]),l("div",He,[Ie,o(C,{class:"input-theme",dense:"",outlined:"",options:b.value.distribution[2],modelValue:t.value.distribution_rule_second,"onUpdate:modelValue":s[26]||(s[26]=e=>t.value.distribution_rule_second=e),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])]),l("div",Ze,[Ge,o(C,{class:"input-theme",dense:"",outlined:"",options:b.value.distribution[3],modelValue:t.value.distribution_rule_three,"onUpdate:modelValue":s[27]||(s[27]=e=>t.value.distribution_rule_three=e),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])]),l("div",Je,[Ke,o(C,{class:"input-theme",dense:"",outlined:"",options:b.value.distribution[4],modelValue:t.value.distribution_rule_four,"onUpdate:modelValue":s[28]||(s[28]=e=>t.value.distribution_rule_four=e),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])]),l("div",Me,[We,o(C,{class:"input-theme",dense:"",outlined:"",options:b.value.distribution[5],modelValue:t.value.distribution_rule_five,"onUpdate:modelValue":s[29]||(s[29]=e=>t.value.distribution_rule_five=e),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1})],64))}};export{al as default};
