import{Q as D,r as k,j as O,o as t,c as a,a as n,u as r,w as V,F as _,Z as R,b as l,k as S,d as z,e as g,O as U,T as q,f,g as d,h as m,i as C,t as b}from"./app-10529476.js";import{Q as x}from"./QSelect-b8e9a33b.js";import{Q as I,a as N}from"./QStepper-1848bff5.js";import{_ as T}from"./MainLayout-cc7c3ca8.js";import{u as A}from"./use-quasar-624edc06.js";const L={class:"row justify-center q-px-md q-py-lg"},B={class:"col-xs-12 col-sm-12 col-md-9"},E={class:"row"},G=l("div",{class:"col-sm-6"},[l("h5",{class:"title-form"}," Información General ")],-1),H={class:"col-sm-6 text-right q-gutter-sm"},M={class:"row q-col-gutter-md q-mt-xs"},Z={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},J=l("div",{class:"form-label",for:"device_name"},[C(" Cuenta "),l("span",{class:"text-red"},"*")],-1),K={key:0,class:"container-error"},W={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},X=l("div",{class:"form-label",for:"device_name"},[C(" Fecha "),l("span",{class:"text-red"},"*")],-1),Y={key:0,class:"container-error"},ee={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},le=l("div",{class:"form-label",for:"device_name"},[C(" Tipo Documento "),l("span",{class:"text-red"},"*")],-1),oe={key:0,class:"container-error"},se={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},te=l("div",{class:"form-label",for:"device_name"},[C(" Concepto "),l("span",{class:"text-red"},"*")],-1),ae={key:0,class:"container-error"},ne={class:"row"},re=l("div",{class:"col-sm-6"},[l("h5",{class:"title-form"},"Libro de Compras")],-1),ie={class:"col-sm-6 text-right q-gutter-sm"},ue={class:"row q-col-gutter-md q-mt-xs"},de={class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},ce=l("div",{class:"form-label",for:"device_name"},[C(" Nº Documento "),l("span",{class:"text-red"},"*")],-1),me={key:0,class:"container-error"},ve={key:0,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},pe=l("div",{class:"form-label",for:"device_name"}," Nº Autorización ",-1),_e={key:0,class:"container-error"},fe={key:1,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},be=l("div",{class:"form-label",for:"device_name"}," CUF ",-1),ye={key:0,class:"container-error"},Ve={key:2,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},ge=l("div",{class:"form-label",for:"device_name"}," Codigo Control ",-1),xe={key:0,class:"container-error"},he={key:3,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},ke=l("div",{class:"form-label",for:"device_name"}," Razón Social ",-1),Ce={key:0,class:"container-error"},Ue={key:4,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},qe=l("div",{class:"form-label",for:"device_name"}," NIT ",-1),ze={key:0,class:"container-error"},Ne={class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},$e=l("div",{class:"form-label",for:"device_name"},[C(" Importe "),l("span",{class:"text-red"},"*")],-1),je={key:0,class:"container-error"},we={key:5,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},Qe=l("div",{class:"form-label",for:"device_name"}," Descuento ",-1),Fe={key:0,class:"container-error"},Pe={key:6,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},De=l("div",{class:"form-label",for:"device_name"}," Exento ",-1),Oe={key:7,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},Re=l("div",{class:"form-label",for:"device_name"}," Tasas ",-1),Se={key:8,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},Ie=l("div",{class:"form-label",for:"device_name"}," Gift Card ",-1),Te={key:9,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},Ae=l("div",{class:"form-label",for:"device_name"}," Tasa Cero ",-1),Le={key:10,class:"col-xs-12 col-sm-12 col-md-6 col-lg-4"},Be=l("div",{class:"form-label",for:"device_name"}," ICE ",-1),Ee={class:"row"},Ge=l("div",{class:"col-sm-6"},[l("h5",{class:"title-form"},"Datos Contables")],-1),He={class:"col-sm-6 text-right q-gutter-sm"},Me={class:"row q-col-gutter-md q-mt-xs"},Ze={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Je=l("div",{class:"form-label",for:"device_name"}," Proyecto ",-1),Ke={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},We=l("div",{class:"form-label",for:"device_name"}," Norma Reparto 1 ",-1),Xe={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Ye=l("div",{class:"form-label",for:"device_name"}," Norma Reparto 2 ",-1),el={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ll=l("div",{class:"form-label",for:"device_name"}," Norma Reparto 3 ",-1),ol={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},sl=l("div",{class:"form-label",for:"device_name"}," Norma Reparto 4 ",-1),tl={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},al=l("div",{class:"form-label",for:"device_name"}," Norma Reparto 5 ",-1),cl={__name:"EditDetail",props:{title:String,errors:Object},setup(i){const w=A(),c=D();let $=k(c.props.flash.message),j=k(c.props.flash.type),p=k({});const v=k({accounts:null,documents:c.props.documents,suppliers:[],distribution:c.props.distribution,projects:c.props.projects});let h=k(1);const s=k(c.props.data);function Q(){U.post(q("panel.accountability.manage.detail.update",[c.props.profile.id,c.props.accountability.id]),s.value,{onSuccess:()=>{$.value=c.props.flash.message,j.value=c.props.flash.type,w.notify({type:j.value,message:$.value})}})}function F(y,o){if(y===""){o(()=>{v.value.accounts=c.props.accounts});return}o(()=>{const e=y.toLowerCase();v.value.accounts=c.props.accounts.filter(u=>u.label.toLowerCase().indexOf(e)>-1)})}O(()=>{v.value.accounts=c.props.accounts,v.value.documents=c.props.documents,s.value.document_id=parseInt(s.value.document_id),p.value=v.value.documents.find(y=>y.id==s.value.document_id)});function P(){p.value=v.value.documents.find(y=>y.id==s.value.document_id)}return(y,o)=>(t(),a(_,null,[n(r(R),{title:i.title},null,8,["title"]),n(T,null,{default:V(()=>[l("div",L,[l("div",B,[n(I,{modelValue:r(h),"onUpdate:modelValue":o[32]||(o[32]=e=>S(h)?h.value=e:h=e),"header-nav":"",ref:"stepper",color:"primary",animated:"",flat:"","alternative-labels":"",class:"backgroup-theme"},{default:V(()=>[n(N,{name:1,title:"General",icon:"settings",done:r(h)>1,error:Object.keys(i.errors).length>0},{default:V(()=>[n(z,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:V(()=>[l("div",E,[G,l("div",H,[n(g,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:o[0]||(o[0]=e=>r(U).visit(r(q)("panel.accountability.manage.detail.index",[r(c).props.profile.id,r(c).props.accountability.id]))),flat:""}),n(g,{onClick:o[1]||(o[1]=e=>y.$refs.stepper.next()),color:"primary","no-caps":"",size:"12px",label:"Continuar"})])]),l("div",M,[l("div",Z,[J,n(x,{class:"input-theme",dense:"",outlined:"",options:v.value.accounts,modelValue:s.value.account,"onUpdate:modelValue":o[2]||(o[2]=e=>s.value.account=e),"option-value":"account_code","option-label":"label","emit-value":"","map-options":"","use-input":"","input-debounce":"0",onFilter:F,clearable:""},null,8,["options","modelValue"]),i.errors.account?(t(),a("div",K,[(t(!0),a(_,null,f(i.errors.account,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)]),l("div",W,[X,n(m,{modelValue:s.value.date,"onUpdate:modelValue":o[3]||(o[3]=e=>s.value.date=e),dense:"",outlined:"",type:"date",min:r(c).props.accountability.start_date,max:r(c).props.accountability.end_date,class:"input-theme"},null,8,["modelValue","min","max"]),i.errors.date?(t(),a("div",Y,[(t(!0),a(_,null,f(i.errors.date,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)]),l("div",ee,[le,n(x,{class:"input-theme",dense:"",outlined:"",options:v.value.documents,modelValue:s.value.document_id,"onUpdate:modelValue":[o[4]||(o[4]=e=>s.value.document_id=e),o[5]||(o[5]=e=>P())],"option-value":"id","option-label":"name","emit-value":"","map-options":""},null,8,["options","modelValue"]),i.errors.document_id?(t(),a("div",oe,[(t(!0),a(_,null,f(i.errors.document_id,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)]),l("div",se,[te,n(m,{modelValue:s.value.concept,"onUpdate:modelValue":o[6]||(o[6]=e=>s.value.concept=e),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.concept?(t(),a("div",ae,[(t(!0),a(_,null,f(i.errors.concept,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)])])]),_:1})]),_:1},8,["done","error"]),n(N,{name:2,title:"Libro Compras",icon:"eva-file-text-outline",done:r(h)>1,error:Object.keys(i.errors).length>0},{default:V(()=>[n(z,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:V(()=>[l("div",ne,[re,l("div",ie,[n(g,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:o[7]||(o[7]=e=>r(U).visit(r(q)("panel.accountability.manage.detail.index",[r(c).props.profile.id,r(c).props.accountability.id]))),flat:""}),n(g,{flat:"",color:"primary",onClick:o[8]||(o[8]=e=>y.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px"}),n(g,{onClick:o[9]||(o[9]=e=>y.$refs.stepper.next()),color:"primary","no-caps":"",size:"12px",label:"Continuar"})])]),l("div",ue,[l("div",de,[ce,n(m,{modelValue:s.value.document_number,"onUpdate:modelValue":o[10]||(o[10]=e=>s.value.document_number=e),dense:"",outlined:"",class:"input-theme",type:"number"},null,8,["modelValue"]),i.errors.document_number?(t(),a("div",me,[(t(!0),a(_,null,f(i.errors.document_number,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)]),r(p).authorization_number_status?(t(),a("div",ve,[pe,n(m,{modelValue:s.value.authorization_number,"onUpdate:modelValue":o[11]||(o[11]=e=>s.value.authorization_number=e),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.authorization_number?(t(),a("div",_e,[(t(!0),a(_,null,f(i.errors.authorization_number,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)])):d("",!0),r(p).cuf_status?(t(),a("div",fe,[be,n(m,{modelValue:s.value.cuf,"onUpdate:modelValue":o[12]||(o[12]=e=>s.value.cuf=e),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.cuf?(t(),a("div",ye,[(t(!0),a(_,null,f(i.errors.cuf,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)])):d("",!0),r(p).control_code_status?(t(),a("div",Ve,[ge,n(m,{modelValue:s.value.control_code,"onUpdate:modelValue":o[13]||(o[13]=e=>s.value.control_code=e),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.control_code?(t(),a("div",xe,[(t(!0),a(_,null,f(i.errors.control_code,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)])):d("",!0),r(p).business_name_status?(t(),a("div",he,[ke,n(m,{modelValue:s.value.business_name,"onUpdate:modelValue":o[14]||(o[14]=e=>s.value.business_name=e),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.business_name?(t(),a("div",Ce,[(t(!0),a(_,null,f(i.errors.business_name,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)])):d("",!0),r(p).nit_status?(t(),a("div",Ue,[qe,n(m,{modelValue:s.value.nit,"onUpdate:modelValue":o[15]||(o[15]=e=>s.value.nit=e),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.nit?(t(),a("div",ze,[(t(!0),a(_,null,f(i.errors.nit,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)])):d("",!0),l("div",Ne,[$e,n(m,{modelValue:s.value.amount,"onUpdate:modelValue":o[16]||(o[16]=e=>s.value.amount=e),dense:"",type:"number",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.amount?(t(),a("div",je,[(t(!0),a(_,null,f(i.errors.amount,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)]),r(p).discount_status?(t(),a("div",we,[Qe,n(m,{modelValue:s.value.discount,"onUpdate:modelValue":o[17]||(o[17]=e=>s.value.discount=e),dense:"",type:"number",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.discount?(t(),a("div",Fe,[(t(!0),a(_,null,f(i.errors.discount,(e,u)=>(t(),a("ul",{key:u,class:"message-error"},[l("li",null,b(e),1)]))),128))])):d("",!0)])):d("",!0),r(p).exento_status?(t(),a("div",Pe,[De,n(m,{modelValue:s.value.excento,"onUpdate:modelValue":o[18]||(o[18]=e=>s.value.excento=e),dense:"",type:"number",outlined:"",class:"input-theme"},null,8,["modelValue"])])):d("",!0),r(p).tasas?(t(),a("div",Oe,[Re,n(m,{modelValue:s.value.rate,"onUpdate:modelValue":o[19]||(o[19]=e=>s.value.rate=e),type:"number",dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"])])):d("",!0),r(p).gift_card_status?(t(),a("div",Se,[Ie,n(m,{modelValue:s.value.gift_card,"onUpdate:modelValue":o[20]||(o[20]=e=>s.value.gift_card=e),dense:"",type:"number",outlined:"",class:"input-theme"},null,8,["modelValue"])])):d("",!0),r(p).rate_zero_status?(t(),a("div",Te,[Ae,n(m,{modelValue:s.value.rate_zero,"onUpdate:modelValue":o[21]||(o[21]=e=>s.value.rate_zero=e),type:"number",dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"])])):d("",!0),r(p).ice_status?(t(),a("div",Le,[Be,n(m,{modelValue:s.value.ice,"onUpdate:modelValue":o[22]||(o[22]=e=>s.value.ice=e),dense:"",type:"number",outlined:"",class:"input-theme"},null,8,["modelValue"])])):d("",!0)])]),_:1})]),_:1},8,["done","error"]),n(N,{name:3,title:"Contable",icon:"eva-pantone-outline",error:Object.keys(i.errors).length>0},{default:V(()=>[n(z,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:V(()=>[l("div",Ee,[Ge,l("div",He,[n(g,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:o[23]||(o[23]=e=>r(U).visit(r(q)("panel.accountability.manage.detail.index",[r(c).props.profile.id,r(c).props.accountability.id]))),flat:""}),n(g,{flat:"",color:"primary",onClick:o[24]||(o[24]=e=>y.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px"}),n(g,{color:"primary",label:"Actualizar",size:"12px","no-caps":"",onClick:o[25]||(o[25]=e=>Q())})])]),l("div",Me,[l("div",Ze,[Je,n(x,{class:"input-theme",dense:"",outlined:"",options:v.value.projects,modelValue:s.value.project_code,"onUpdate:modelValue":o[26]||(o[26]=e=>s.value.project_code=e),"option-value":"PrjCode","option-label":"PrjCode","emit-value":"","map-options":""},null,8,["options","modelValue"])]),l("div",Ke,[We,n(x,{class:"input-theme",dense:"",outlined:"",options:v.value.distribution[1],modelValue:s.value.distribution_rule_one,"onUpdate:modelValue":o[27]||(o[27]=e=>s.value.distribution_rule_one=e),"option-value":"PrcCode","option-label":"Name","emit-value":"","map-options":""},null,8,["options","modelValue"])]),l("div",Xe,[Ye,n(x,{class:"input-theme",dense:"",outlined:"",options:v.value.distribution[2],modelValue:s.value.distribution_rule_second,"onUpdate:modelValue":o[28]||(o[28]=e=>s.value.distribution_rule_second=e),"option-value":"PrcCode","option-label":"Name","emit-value":"","map-options":""},null,8,["options","modelValue"])]),l("div",el,[ll,n(x,{class:"input-theme",dense:"",outlined:"",options:v.value.distribution[3],modelValue:s.value.distribution_rule_three,"onUpdate:modelValue":o[29]||(o[29]=e=>s.value.distribution_rule_three=e),"option-value":"PrcCode","option-label":"Name","emit-value":"","map-options":""},null,8,["options","modelValue"])]),l("div",ol,[sl,n(x,{class:"input-theme",dense:"",outlined:"",options:v.value.distribution[4],modelValue:s.value.distribution_rule_four,"onUpdate:modelValue":o[30]||(o[30]=e=>s.value.distribution_rule_four=e),"option-value":"PrcCode","option-label":"Name","emit-value":"","map-options":""},null,8,["options","modelValue"])]),l("div",tl,[al,n(x,{class:"input-theme",dense:"",outlined:"",options:v.value.distribution[5],modelValue:s.value.distribution_rule_five,"onUpdate:modelValue":o[31]||(o[31]=e=>s.value.distribution_rule_five=e),"option-value":"PrcCode","option-label":"Name","emit-value":"","map-options":""},null,8,["options","modelValue"])])])]),_:1})]),_:1},8,["error"])]),_:1},8,["modelValue"])])])]),_:1})],64))}};export{cl as default};
