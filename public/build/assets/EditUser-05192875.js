import{Q as O,r as g,o as a,c as r,a as o,u as d,w as u,F as p,Z as E,b as e,k as L,d as U,e as c,O as k,T as q,h,f,g as x,C as w,t as m,i as C}from"./app-0af1bcf5.js";import{Q as V}from"./QSelect-5c832f7f.js";import{Q as j,a as $}from"./QStepper-a03bf713.js";import{Q as S}from"./QTree-e088c1eb.js";import{_ as F}from"./MainLayout-80ecdb50.js";import{u as T}from"./use-quasar-e276b875.js";const D={class:"row justify-center q-px-md q-py-lg"},H={class:"col-xs-12 col-sm-12 col-md-9"},I={class:"row"},Z=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"},"Crear Usuario")],-1),G={class:"col-sm-6 text-right q-gutter-sm"},J={class:"row q-col-gutter-md q-mt-xs"},K={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},M=e("div",{class:"form-label",for:"device_name"},[C(" Nombres "),e("span",{class:"text-red"},"*")],-1),W={key:0,class:"container-error"},X={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Y=e("div",{class:"form-label",for:"device_name"},[C(" Username "),e("span",{class:"text-red"},"*")],-1),ee={key:0,class:"container-error"},le={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},se=e("div",{class:"form-label",for:"device_name"},[C(" Correo Electronico "),e("span",{class:"text-red"},"*")],-1),oe={key:0,class:"container-error"},te={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ae=e("div",{class:"form-label",for:"device_name"}," Contrase침a ",-1),re={key:0,class:"container-error"},ie={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ne=e("div",{class:"form-label",for:"device_name"},[C(" Tipo "),e("span",{class:"text-red"},"*")],-1),de={key:0,class:"container-error"},ue={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ce=e("div",{class:"form-label",for:"device_name"},[C(" Estado "),e("span",{class:"text-red"},"*")],-1),me={key:0,class:"container-error"},pe={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ve=e("div",{class:"form-label",for:"device_name"}," Codigo Empleado ",-1),fe={key:0,class:"container-error"},_e={class:"row"},be={class:"col-12"},ye={class:"row q-ma-sm"},ge=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"}," Asignaci칩n de Perfiles ")],-1),he={class:"col-sm-6 text-right q-gutter-sm"},xe={class:"col-sm-6"},Ve=e("h5",{class:"title-tree text-center"}," Lista de Perfiles ",-1),ke={class:"tree-label"},qe={class:"col-sm-5"},Ce=e("h5",{class:"title-tree text-center"}," Perfiles Seleccionados ",-1),Ue={class:"q-ma-none"},we={class:"row"},$e={class:"col-12"},Ne={class:"row q-ma-sm"},ze=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"}," Asignaci칩n de Autorizadores ")],-1),Qe={class:"col-sm-6 text-right q-gutter-sm"},Ae={class:"col-sm-6"},Pe=e("h5",{class:"title-tree text-center"}," Lista de Usuarios ",-1),Se={class:"tree-label"},Re={class:"col-sm-5"},Be=e("h5",{class:"title-tree text-center"}," Usuario Seleccionados ",-1),Oe={class:"q-ma-none"},Ee={class:"row"},Le=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"}," Normas de Reparto ")],-1),je={class:"col-sm-6 text-right q-gutter-sm"},Fe={class:"row q-col-gutter-md q-mt-xs"},Te={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},De=e("div",{class:"form-label",for:"device_name"}," Norma Reparto 1 ",-1),He={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Ie=e("div",{class:"form-label",for:"device_name"}," Norma Reparto 2 ",-1),Ze={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Ge=e("div",{class:"form-label",for:"device_name"}," Norma Reparto 3 ",-1),Je={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Ke=e("div",{class:"form-label",for:"device_name"}," Norma Reparto 4 ",-1),Me={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},We=e("div",{class:"form-label",for:"device_name"}," Norma Reparto 5 ",-1),tl={__name:"EditUser",props:{title:String,errors:Object,user:Object},setup(i){const R=T(),_=O();let Q=g(_.props.flash.message),A=g(_.props.flash.type);const b=g({profiles:_.props.profiles,distribution:_.props.distribution,users:_.props.users}),N=g(""),z=g(""),t=g(_.props.user);let y=g(1);function B(){k.put(q("panel.user.update"),t.value,{onSuccess:()=>{Q.value=_.props.flash.message,A.value=_.props.flash.type,R.notify({type:A.value,message:Q.value})}})}function P(v,s){const l=s.toLowerCase();return v.label&&v.label.toLowerCase().indexOf(l)>-1}return(v,s)=>(a(),r(p,null,[o(d(E),{title:i.title},null,8,["title"]),o(F,null,{default:u(()=>[e("div",D,[e("div",H,[o(j,{modelValue:d(y),"onUpdate:modelValue":s[27]||(s[27]=l=>L(y)?y.value=l:y=l),"header-nav":"",ref:"stepper",color:"primary",animated:"",flat:"","alternative-labels":"",class:"backgroup-theme"},{default:u(()=>[o($,{name:1,title:"Datos Usuario",icon:"settings",done:d(y)>1,error:Object.keys(i.errors).length>0},{default:u(()=>[o(U,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:u(()=>[e("div",I,[Z,e("div",G,[o(c,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[0]||(s[0]=l=>d(k).visit(d(q)("panel.user.index"))),flat:""}),o(c,{onClick:s[1]||(s[1]=l=>v.$refs.stepper.next()),color:"primary","no-caps":"",size:"12px",label:"Continuar"})])]),e("div",J,[e("div",K,[M,o(h,{modelValue:t.value.name,"onUpdate:modelValue":s[2]||(s[2]=l=>t.value.name=l),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.name?(a(),r("div",W,[(a(!0),r(p,null,f(i.errors.name,(l,n)=>(a(),r("ul",{key:n,class:"message-error"},[e("li",null,m(l),1)]))),128))])):x("",!0)]),e("div",X,[Y,o(h,{modelValue:t.value.username,"onUpdate:modelValue":s[3]||(s[3]=l=>t.value.username=l),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),i.errors.username?(a(),r("div",ee,[(a(!0),r(p,null,f(i.errors.username,(l,n)=>(a(),r("ul",{key:n,class:"message-error"},[e("li",null,m(l),1)]))),128))])):x("",!0)]),e("div",le,[se,o(h,{modelValue:t.value.email,"onUpdate:modelValue":s[4]||(s[4]=l=>t.value.email=l),dense:"",outlined:"",class:"input-theme",type:"email"},null,8,["modelValue"]),i.errors.email?(a(),r("div",oe,[(a(!0),r(p,null,f(i.errors.email,(l,n)=>(a(),r("ul",{key:n,class:"message-error"},[e("li",null,m(l),1)]))),128))])):x("",!0)]),e("div",te,[ae,o(h,{modelValue:t.value.password,"onUpdate:modelValue":s[5]||(s[5]=l=>t.value.password=l),dense:"",outlined:"",class:"input-theme",type:"password"},null,8,["modelValue"]),i.errors.password?(a(),r("div",re,[(a(!0),r(p,null,f(i.errors.password,(l,n)=>(a(),r("ul",{key:n,class:"message-error"},[e("li",null,m(l),1)]))),128))])):x("",!0)]),e("div",ie,[ne,o(V,{modelValue:t.value.type,"onUpdate:modelValue":s[6]||(s[6]=l=>t.value.type=l),options:["Administrador","Usuario"],dense:"",outlined:"",class:"input-theme",type:"password"},null,8,["modelValue"]),i.errors.type?(a(),r("div",de,[(a(!0),r(p,null,f(i.errors.type,(l,n)=>(a(),r("ul",{key:n,class:"message-error"},[e("li",null,m(l),1)]))),128))])):x("",!0)]),e("div",ue,[ce,o(V,{modelValue:t.value.status,"onUpdate:modelValue":s[7]||(s[7]=l=>t.value.status=l),options:["Activo","PreActivo","Bloqueado"],dense:"",outlined:"",class:"input-theme",type:"password"},null,8,["modelValue"]),i.errors.status?(a(),r("div",me,[(a(!0),r(p,null,f(i.errors.status,(l,n)=>(a(),r("ul",{key:n,class:"message-error"},[e("li",null,m(l),1)]))),128))])):x("",!0)]),e("div",pe,[ve,o(h,{modelValue:t.value.card_code,"onUpdate:modelValue":s[8]||(s[8]=l=>t.value.card_code=l),dense:"",outlined:"",class:"input-theme",clearable:""},null,8,["modelValue"]),i.errors.card_code?(a(),r("div",fe,[(a(!0),r(p,null,f(i.errors.card_code,(l,n)=>(a(),r("ul",{key:n,class:"message-error"},[e("li",null,m(l),1)]))),128))])):x("",!0)])])]),_:1})]),_:1},8,["done","error"]),o($,{name:2,title:"Perfiles",icon:"eva-person-outline",done:d(y)>2},{default:u(()=>[o(U,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:u(()=>[e("div",_e,[e("div",be,[e("div",ye,[ge,e("div",he,[o(c,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[9]||(s[9]=l=>d(k).visit(d(q)("panel.user.index"))),flat:""}),o(c,{flat:"",color:"primary",onClick:s[10]||(s[10]=l=>v.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px",class:"q-ml-sm"}),o(c,{onClick:s[11]||(s[11]=l=>v.$refs.stepper.next()),color:"primary","no-caps":"",size:"12px",label:"Continuar"})])]),o(w)]),e("div",xe,[Ve,o(h,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:N.value,"onUpdate:modelValue":s[12]||(s[12]=l=>N.value=l),class:"input-theme"},null,8,["modelValue"]),o(S,{nodes:b.value.profiles,"node-key":"label","tick-strategy":"leaf",ticked:t.value.profiles,"onUpdate:ticked":s[13]||(s[13]=l=>t.value.profiles=l),filter:N.value,"filter-method":P},{"default-header":u(l=>[e("div",ke,m(l.node.label),1)]),_:1},8,["nodes","ticked","filter"])]),o(w,{spaced:"",inset:"",vertical:""}),e("div",qe,[Ce,e("ul",Ue,[(a(!0),r(p,null,f(t.value.profiles,l=>(a(),r("div",{key:`ticked-${l}`,class:"tree-label"},[e("li",null,m(l),1)]))),128))])])])]),_:1})]),_:1},8,["done"]),o($,{name:3,title:"Autorizaci칩n",icon:"eva-person-outline",done:d(y)>3},{default:u(()=>[o(U,{class:"q-px-lg q-py-md q-ma-sm card-form q-mt-md"},{default:u(()=>[e("div",we,[e("div",$e,[e("div",Ne,[ze,e("div",Qe,[o(c,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[14]||(s[14]=l=>d(k).visit(d(q)("panel.user.index"))),flat:""}),o(c,{flat:"",color:"primary",onClick:s[15]||(s[15]=l=>v.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px",class:"q-ml-sm"}),o(c,{onClick:s[16]||(s[16]=l=>v.$refs.stepper.next()),color:"primary","no-caps":"",size:"12px",label:"Continuar"})])]),o(w)]),e("div",Ae,[Pe,o(h,{outlined:"",dense:"",color:"primary",placeholder:"Buscar...",modelValue:z.value,"onUpdate:modelValue":s[17]||(s[17]=l=>z.value=l),class:"input-theme"},null,8,["modelValue"]),o(S,{nodes:b.value.users,"node-key":"label","tick-strategy":"leaf",ticked:t.value.users,"onUpdate:ticked":s[18]||(s[18]=l=>t.value.users=l),filter:z.value,"filter-method":P},{"default-header":u(l=>[e("div",Se,m(l.node.label),1)]),_:1},8,["nodes","ticked","filter"])]),o(w,{spaced:"",inset:"",vertical:""}),e("div",Re,[Be,e("ul",Oe,[(a(!0),r(p,null,f(t.value.users,l=>(a(),r("div",{key:`ticked-${l}`,class:"tree-label"},[e("li",null,m(l),1)]))),128))])])])]),_:1})]),_:1},8,["done"]),o($,{name:4,title:"Normas Reparto",icon:"eva-file-text-outline"},{default:u(()=>[o(U,{class:"q-pa-lg card-form q-mt-md"},{default:u(()=>[e("div",Ee,[Le,e("div",je,[o(c,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[19]||(s[19]=l=>d(k).visit(d(q)("panel.user.index"))),flat:""}),o(c,{flat:"",color:"primary",onClick:s[20]||(s[20]=l=>v.$refs.stepper.previous()),label:"Atras","no-caps":"",size:"12px",class:"q-ml-sm"}),o(c,{color:"primary",label:"Actualizar",size:"12px","no-caps":"",onClick:s[21]||(s[21]=l=>B())})])]),e("div",Fe,[e("div",Te,[De,o(V,{class:"input-theme",dense:"",outlined:"",options:b.value.distribution[1],modelValue:t.value.distribution_rule_one,"onUpdate:modelValue":s[22]||(s[22]=l=>t.value.distribution_rule_one=l),"option-value":"PrcCode","option-label":"Name","emit-value":"",clearable:"","map-options":""},null,8,["options","modelValue"])]),e("div",He,[Ie,o(V,{class:"input-theme",dense:"",outlined:"",options:b.value.distribution[2],modelValue:t.value.distribution_rule_second,"onUpdate:modelValue":s[23]||(s[23]=l=>t.value.distribution_rule_second=l),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])]),e("div",Ze,[Ge,o(V,{class:"input-theme",dense:"",outlined:"",options:b.value.distribution[3],modelValue:t.value.distribution_rule_three,"onUpdate:modelValue":s[24]||(s[24]=l=>t.value.distribution_rule_three=l),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])]),e("div",Je,[Ke,o(V,{class:"input-theme",dense:"",outlined:"",options:b.value.distribution[4],modelValue:t.value.distribution_rule_four,"onUpdate:modelValue":s[25]||(s[25]=l=>t.value.distribution_rule_four=l),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])]),e("div",Me,[We,o(V,{class:"input-theme",dense:"",outlined:"",options:b.value.distribution[5],modelValue:t.value.distribution_rule_five,"onUpdate:modelValue":s[26]||(s[26]=l=>t.value.distribution_rule_five=l),"option-value":"PrcCode","option-label":"Name",clearable:"","emit-value":"","map-options":""},null,8,["options","modelValue"])])])]),_:1})]),_:1})]),_:1},8,["modelValue"])])])]),_:1})],64))}};export{tl as default};
