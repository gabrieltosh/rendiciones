import{Q as O,r as y,j as z,o,c as t,a as i,u as g,w as V,F as u,Z as A,b as e,d as B,e as k,O as C,T as F,f as p,g as v,h,i as _,t as f}from"./app-10529476.js";import{Q as w}from"./QSelect-b8e9a33b.js";import{_ as E}from"./MainLayout-cc7c3ca8.js";import{u as N}from"./use-quasar-624edc06.js";const S={class:"row justify-center q-px-md q-py-lg"},$={class:"col-xs-12 col-sm-12 col-md-9"},j={class:"row"},H=e("div",{class:"col-sm-6"},[e("h5",{class:"title-form"},"Actualizar Rendición")],-1),D={class:"col-sm-6 text-right q-gutter-sm"},I={class:"row q-col-gutter-md q-mt-xs"},M={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},R=e("div",{class:"form-label",for:"device_name"}," Empleado ",-1),T={key:0,class:"container-error"},Z={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},G=e("div",{class:"form-label",for:"device_name"},[_(" Cuenta "),e("span",{class:"text-red"},"*")],-1),J={key:0,class:"container-error"},K={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},P=e("div",{class:"form-label",for:"device_name"},[_(" Monto Recepcionado "),e("span",{class:"text-red"},"*")],-1),W={key:0,class:"container-error"},X={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},Y=e("div",{class:"form-label",for:"device_name"},[_(" Descripción "),e("span",{class:"text-red"},"*")],-1),ee={key:0,class:"container-error"},le={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},se=e("div",{class:"form-label",for:"device_name"},[_(" Fecha Inicio "),e("span",{class:"text-red"},"*")],-1),oe={key:0,class:"container-error"},te={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6"},ae=e("div",{class:"form-label",for:"device_name"},[_(" Fecha Final "),e("span",{class:"text-red"},"*")],-1),ne={key:0,class:"container-error"},ue={__name:"EditAccountability",props:{title:String,errors:Object},setup(n){const q=N(),r=O();let x=y(r.props.flash.message),b=y(r.props.flash.type);const d=y({accounts:null,employees:[]});y({card:!1});const c=y(r.props.accountability);function Q(){C.put(F("panel.accountability.manage.update",r.props.profile.id),c.value,{onSuccess:()=>{x.value=r.props.flash.message,b.value=r.props.flash.type,q.notify({type:b.value,message:x.value})}})}function U(m,s){if(m===""){s(()=>{d.value.accounts=r.props.accounts});return}s(()=>{const l=m.toLowerCase();d.value.accounts=r.props.accounts.filter(a=>a.label.toLowerCase().indexOf(l)>-1)})}z(()=>{d.value.accounts=r.props.accounts,d.value.employees=r.props.employees});function L(m,s){if(m===""){s(()=>{d.value.employees=r.props.employees});return}s(()=>{const l=m.toLowerCase();d.value.employees=r.props.employees.filter(a=>a.card_name.toLowerCase().indexOf(l)>-1)})}return(m,s)=>(o(),t(u,null,[i(g(A),{title:n.title},null,8,["title"]),i(E,null,{default:V(()=>[e("div",S,[e("div",$,[i(B,{class:"q-pa-lg card-form"},{default:V(()=>[e("div",j,[H,e("div",D,[i(k,{color:"secondary",label:"Cancelar",size:"12px","no-caps":"",onClick:s[0]||(s[0]=l=>g(C).visit(g(F)("panel.accountability.manage.index",g(r).props.profile.id))),flat:""}),i(k,{color:"primary",label:"Actualizar",size:"12px","no-caps":"",onClick:s[1]||(s[1]=l=>Q())})])]),e("div",I,[e("div",M,[R,i(w,{class:"input-theme",dense:"",outlined:"",options:d.value.employees,modelValue:c.value.employee,"onUpdate:modelValue":s[2]||(s[2]=l=>c.value.employee=l),"option-value":"card_code","option-label":"card_name","emit-value":"","map-options":"","use-input":"","input-debounce":"0",onFilter:L,clearable:""},null,8,["options","modelValue"]),n.errors.employee?(o(),t("div",T,[(o(!0),t(u,null,p(n.errors.employee,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",Z,[G,i(w,{class:"input-theme",dense:"",outlined:"",options:d.value.accounts,modelValue:c.value.account,"onUpdate:modelValue":s[3]||(s[3]=l=>c.value.account=l),"option-value":"account_code","option-label":"label","emit-value":"","map-options":"","use-input":"","input-debounce":"0",onFilter:U,clearable:""},null,8,["options","modelValue"]),n.errors.account?(o(),t("div",J,[(o(!0),t(u,null,p(n.errors.account,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",K,[P,i(h,{modelValue:c.value.total,"onUpdate:modelValue":s[4]||(s[4]=l=>c.value.total=l),dense:"",outlined:"",type:"number",class:"input-theme"},null,8,["modelValue"]),n.errors.total?(o(),t("div",W,[(o(!0),t(u,null,p(n.errors.total,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",X,[Y,i(h,{modelValue:c.value.description,"onUpdate:modelValue":s[5]||(s[5]=l=>c.value.description=l),dense:"",outlined:"",class:"input-theme"},null,8,["modelValue"]),n.errors.description?(o(),t("div",ee,[(o(!0),t(u,null,p(n.errors.description,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",le,[se,i(h,{modelValue:c.value.start_date,"onUpdate:modelValue":s[6]||(s[6]=l=>c.value.start_date=l),dense:"",outlined:"",class:"input-theme",type:"date"},null,8,["modelValue"]),n.errors.start_date?(o(),t("div",oe,[(o(!0),t(u,null,p(n.errors.start_date,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)]),e("div",te,[ae,i(h,{modelValue:c.value.end_date,"onUpdate:modelValue":s[7]||(s[7]=l=>c.value.end_date=l),dense:"",outlined:"",type:"date",class:"input-theme"},null,8,["modelValue"]),n.errors.end_date?(o(),t("div",ne,[(o(!0),t(u,null,p(n.errors.end_date,(l,a)=>(o(),t("ul",{key:a,class:"message-error"},[e("li",null,f(l),1)]))),128))])):v("",!0)])])]),_:1})])])]),_:1})],64))}};export{ue as default};
